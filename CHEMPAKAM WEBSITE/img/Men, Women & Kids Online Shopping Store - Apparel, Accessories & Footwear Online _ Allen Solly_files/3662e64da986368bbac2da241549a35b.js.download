(self.webpackChunkCE2=self.webpackChunkCE2||[]).push([[459,150],{1839:function(t,e,s){"use strict";s.r(e),s.d(e,{EventHandlers:function(){return Is},V11Tracker:function(){return De},compress:function(){return As},fp:function(){return Os},getCensoredElements:function(){return Be},timing:function(){return se}});const r="[\\s\\u00a0\\u2028\\u2029]+",i={whitespace:new RegExp(r,"g"),strip:new RegExp(`^${r}|${r}$`,"g"),href:/\bhref="(.*?)"/i,ipHost:/^([\d\.]+|\[[a-f\d:]+\])$/i};function n(t,e){const s=t.replace(i.strip,"");return e?s.replace(i.whitespace," "):s}const o=`cesrk${Math.random().toString().replace(/\D/g,"")}`;function a(t){let e;const s=(t=t||window).document;return t[`${o}_path`]!==t.location.pathname&&(t[o]=function(t){const e=t.defaultView;if(t.documentElement.scrollHeight>e.innerHeight)return e;if(!t.querySelectorAll||"number"!=typeof t.body.scrollHeight)return;const{body:s}=t,r=Array.from(t.querySelectorAll("html, body, body *")).filter((t=>!t.ownerSVGElement)),i=s.getElementsByTagName("*").length;let n,o,a,c;for(n=0,o=Math.min(7e3,r.length);n<o;n++)if(a=r[n],!(a.clientHeight>=a.scrollHeight)&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)&&!(a.getElementsByTagName("*").length/i<.5||a.clientHeight>window.innerHeight||(c=a.getBoundingClientRect(),Math.floor(c.width||c.right-c.left)<.75*e.innerWidth||Math.floor(c.height||c.bottom-c.top)<.75*e.innerHeight)))return a}(s),t[`${o}_path`]=t.location.pathname),e=t[o],e=e||("BackCompat"===s.compatMode?s.body:s.documentElement),{left:e===t?e.scrollX:e.scrollLeft,top:e===t?e.scrollY:e.scrollTop,width:t.innerWidth,height:t.innerHeight}}const c={};c.opera=c.ie=c.chrome=c.safari=c.firefox=!1,c.browser="unknown";const l="undefined"!=typeof window?window:{},h="undefined"!=typeof navigator?navigator:{},u=h.userAgent;function d(t,e){const s=Math.min(e.width,e.height),r=n(t.coords,!0).split(/[^\d\.%]+/).map((t=>function(t,e){let s=parseInt(t,10);return-1!=t.indexOf("%")&&(s*=.01*e),isNaN(s)?null:s}(t,s)));let i,o,a;if(!/circle/i.test(t.shape)){i=[],o=[];for(let t=0,e=r.length;t<e;t++)t%2?o.push(r[t]):i.push(r[t]);const t=Math.min.apply(null,i),e=Math.max.apply(null,i),s=Math.min.apply(null,o);return{left:t,top:s,width:e-t,height:Math.max.apply(null,o)-s}}if(r.length>=3)return[i,o,a]=r,{left:i-a,top:o-a,width:2*a,height:2*a}}function p(t){const e=function(t){const e=new RegExp(`(^|#)${t.parentNode.name}`,"i"),s=t.ownerDocument.getElementsByTagName("IMG");let r,i;for(r=0;i=s[r++];)if(e.test(i.useMap))return i}(t);if(!e)return;const s=f(e),r=d(t,s);return r?{left:s.left+r.left,top:s.top+r.top,width:r.width,height:r.height}:void 0}function f(t,e,s){let r;if(e=e||{},"AREA"==t.nodeName)r=p(t),r&&(e.left=r.left,e.top=r.top,e.width=r.width,e.height=r.height);else if(t.getBoundingClientRect){r=t.getBoundingClientRect();const s=a();e.left=Math.floor(r.left+s.left),e.top=Math.floor(r.top+s.top),c.webkit&&c.webkitVersion<533&&"relative"==t.style.position&&(e.left+=parseInt(t.style.left,10),e.top+=parseInt(t.style.top,10)),e.width=Math.floor(r.width||r.right-r.left),e.height=Math.floor(r.height||r.bottom-r.top)}else{e.width=t.offsetWidth,e.height=t.offsetHeight;let s=t,r=0,i=0;do{r+=s.offsetLeft||0,i+=s.offsetTop||0,s=s.offsetParent}while(s);e.left=Math.floor(r),e.top=Math.floor(i)}if(e.pageX=e.left,e.pageY=e.top,s){const t=f(s);e.left-=t.pageX,e.top-=t.pageY}return e}l.opera&&"function"==typeof l.opera.version?(c.browser="opera",c.opera=!0,c.operaVersion=parseInt(l.opera.version(),10)):/\bMSIE\b/.test(u)?(c.browser="ie",c.ie=!0,c.ieVersion=parseInt(/MSIE (\d+)\.\d+/.exec(h.userAgent)[1],10),c.ieQuirksMode="BackCompat"==document.compatMode):/\b(iPhone|iP[ao]d)\b/.test(u)?(c.browser="iphone",c.iphone=!0,c.webkit=!0):/\bChrome\b/.test(u)?(c.browser="chrome",c.chrome=!0,c.webkit=!0):/AppleWebKit/.test(h.appVersion)?(c.browser="safari",c.safari=!0,c.webkit=!0):/Mozilla/i.test(u)&&!/compatible|webkit/i.test(u)&&(c.browser="firefox",c.firefox=!0),c.webkit&&(c.webkitVersion=parseInt(/AppleWebKit\/(\d+)/.exec(u)[1],10));const g=function(t){if(this.src=t,this.protocol=this.host=this.port=this.path=this.qs=this.hash=this.query=null,t){const e=typeof t;"string"==e?this.initWithString(t):"object"==e&&this.initWithURI(t)}};function m(t){try{return decodeURIComponent(t)}catch(e){return window.unescape(t)}}g.pattern=/^\s*([\S]+?:\/\/)?([^\s\/]+?@)?([^:\/\?\#]+)?(\:\d+)?(\/?[^#\?\s]*)?([\?][^#\s]*)?([#]\S+)?/i,g.prototype={initWithString(t){const e=g.pattern.exec(t),[s,r,i,n,o,a,c,l]=e;r||"/"==t.charAt(0)?(r&&(this.protocol=r.substr(0,r.indexOf(":"))),this.host=n||null,o&&(this.port=Number(o.substr(1))),a?this.path=m(a):this.host&&(this.path="/")):this.path=m((n||"")+(a||"")),c&&(this.qs=function(t,e){if(null==t||/^\s*$/.test(t))return null;const s={};let r=null;const i=t.replace(/\+/g," ").split(e||"&");let n,o;for(n=0,o=i.length;n<o;n++)r=i[n].split("="),r[0]&&(s[m(r[0])]=null==r[1]?null:m(r[1]));return s}(c.substr(1)),this.query=c.substr(1)),l&&(this.hash=m(l.substr(1)))},initWithURI(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this[e]=t[e])},isAbsolute(){return this.isURL()||this.path&&"/"==this.path.charAt(0)},isURL(){return this.protocol&&this.host},getDomain(){return this.host&&this.host.replace(/^(www|m)\./,"")},getHost(){return this.host+(this.port?`:${this.port}`:"")},getOrigin(){return`${this.protocol}://${this.getHost()}`},getFullUrl(){const t=this.query?`?${this.query}`:"";return`${this.getOrigin()}${this.path}${t}`},join(t){const e=new g(this);let{path:s}=this;return"string"==typeof t&&(t=new g(t)),t.isURL()?new g(t):(t.isAbsolute()?s=t.path:s?(s=s.split("/"),s.pop(),s=t.path?s.concat(t.path.split("/")):s,s=s.join("/")):s=this.isURL()?`/${t.path}`:t.path,e.path=s,e.qs=t.qs,e.hash=t.hash,e)},normalize(){if(!this.path)return;let t;c.ie&&c.ieVersion<9?(t=[],"/"==this.path.charAt(0)&&t.push(""),t=t.concat(this.path.split(/\/+/g)),"/"==this.path.charAt(this.path.length-1)&&t.push("")):t=this.path.split(/\/+/g);let e,s=0;do{if(e=t.length-1,".."==t[s+1])""==t[s]&&0==s?t.splice(s+1,1):(t.splice(s,2),s-=1);else if("."==t[s]){if(0==e)break;t.splice(s,1)}else s++}while(s<=e);this.path=t.join("/")},simplify(t){let e;const s=[];if(e="file"==this.protocol?this:c.ie?t?t.join(this):this:(t=t||new g(window.document.baseURI)).join(this),e.normalize(),e.host&&s.push(e.host.replace(/^(www|m)\./,"")),null!=e.port&&s.push(`:${e.port}`),"/"==e.path||/^\/(default|home|index)\b[^\/]*$/i.test(e.path)?(e.qs||e.hash)&&s.push("/"):s.push(e.path),e.qs){const t=[];for(const s in e.qs)e.qs[s]&&!/(^sess|^sid$|^phpsessid$|^jsessionid$|^__VIEWSTATE$)/i.test(s)&&t.push(`${encodeURIComponent(s)}=${encodeURIComponent(e.qs[s])}`);t.length&&s.push(`?${t.join("&")}`)}return e.hash&&s.push(`#${e.hash}`),s.join("")}};const E={a:3,abbr:4,acronym:5,address:6,applet:7,area:8,b:9,base:10,basefont:11,bdo:12,big:13,blockquote:14,body:15,br:16,button:17,caption:18,center:19,cite:20,code:21,col:22,colgroup:23,dd:24,del:25,dfn:26,dir:27,div:28,dl:29,dt:30,em:31,fieldset:32,font:33,form:34,frame:35,frameset:36,head:37,h1:38,h2:38,h3:38,h4:38,h5:38,h6:38,hr:38,html:39,i:40,iframe:41,img:42,input:43,ins:44,kbd:45,label:46,legend:47,li:48,link:49,map:50,menu:51,meta:52,noframes:53,noscript:54,object:55,embed:55,ol:56,optgroup:57,option:58,p:59,param:60,pre:61,q:62,s:63,samp:64,script:65,select:66,small:67,span:68,strike:69,strong:70,style:71,sub:72,sup:73,table:74,tbody:75,td:76,textarea:77,tfoot:78,th:79,thead:80,title:81,tr:82,tt:83,u:84,ul:85,var:86,article:87,aside:88,audio:89,bdi:90,canvas:91,command:92,details:93,figcaption:94,figure:95,footer:96,header:97,hgroup:98,keygen:99,mark:100,meter:101,nav:102,output:103,progress:104,rp:105,rt:106,ruby:107,section:108,summary:109,time:110,video:111,svg:112,"(custom)":255},v=CE2BH.extends({},E,{main:113});let C=7;const y=/(-|^)(default|open|hover|close|error|active|focus|valid|invalid|dirty|submitted|expand|collapse|hide|show|enable|disable|on|off|yui|ui)/i,k=/^\s*javascript:|^\s*#\s*$/;function T(t,e){if("TEXTAREA"==t.nodeName)return;const s=n(n(function(t){const e=void 0===t.textContent?"innerText":"textContent";let s=t[e].substr(0,16384);function r(t,s){let r,i;for(r=0;i=s[r++];)t=t.replace(i[e],"");return t}return s=r(s,t.getElementsByTagName("SCRIPT")),s=r(s,t.getElementsByTagName("NOSCRIPT")),s}(t),!0).substr(0,e||100));return n(s.replace(/[\ud800-\udbff\udc00-\udfff]+$/,""))}function b(t){if(!c.ie)return t.getAttribute("href");{const e=t.outerHTML.match(i.href);if(e)return n(e[1])}}function w(t){return/^\s*data:/.test(t)?n(t).substr(0,100):new g(t).simplify()}function S(t){const e=function(t){let e=t.className;if(e&&"string"==typeof e)return e=n(e.replace(/(\s|^)-ce-capture\b/g,"")).split(/\s+/),e.sort(),e.join(" ")}(t);if(!e||C<=6)return e;const s=[];for(let t=0,r=e.split(/\s+/);t<r.length;t++){const e=r[t];e&&!y.test(e)&&s.push(e)}return s.join(" ")}function _(t){let e,s;return(e=t.getAttribute("cename"))||(e=t.getAttribute("ceid"))||(e=t.getAttribute("title"))||(e=t.getAttribute("alt"))||(e=t.getAttribute("name"))||"A"==t.nodeName&&(e=T(t))?e:(e=b(t))&&(s=b(t),s&&!k.test(s))?new g(e).simplify():(e=t.getAttribute("src"))?w(e):(e=T(t))||(e=t.getAttribute("id"))||(e=S(t))?e:""}function A(t){if("string"==typeof t)return t;const e=t.toString(16);return e.length%2!=0?`0${e}`:e}const I=32,O={SCRIPT:0,NOSCRIPT:0,STYLE:0,LINK:0},N=CE2BH.extends({},O,{TEMPLATE:0}),R="#document-fragment";function L(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;return t>=13?N:12===t?O:null}function P(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;return t>=13?v:E}function D(t){return"string"==typeof t?`[${A(function(t){const e=2147483648+function(t){let e=0;if(0==t.length)return e;for(let s=0;s<t.length;s++)e=(e<<5)-e+t.charCodeAt(s),e|=0;return e}(t);return 2048+e%63487}(t))}]`:A(t)}function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;const s=t.nodeName.toLowerCase(),r=P(e)[s]||0;return 0===r&&e>=13?s:r}function x(t){const e=[];let s,r,i="";for(let r=0,i=t.length;r<i;r++){const i=t[r];i.type===(s&&s.type)&&i.relation===s.relation?e[e.length-1].count++:e.push({type:i.type,relation:i.relation,count:1}),s=i}for(let t=0,s=e.length;t<s;t++){const s=e[t];if(s.relation&&s.relation!==r&&(i+=1===s.relation?"^":"<",r=s.relation),s.count>2)i+=`${D(s.type)}x${A(s.count)}`;else for(let t=0;t<s.count;t++)i+=D(s.type)}return i}function B(t){let e,{formatVersion:s=11}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t;const i=[],n=L(s),o=s>=13;for(;;){if(r.previousElementSibling)e=1,r=r.previousElementSibling;else if(r.parentNode&&r.parentNode!==document.body&&r.parentNode!==document.documentElement)e=2,r=r.parentNode;else{if(!o||r.nodeName!==R||!r.host)break;e=2,r=r.host}if((!n||!(r.nodeName in n))&&((!o||r.nodeName!==R)&&(i.push({type:M(r,s),relation:e}),i.length>=I)))break}return i}function H(t){let{formatVersion:e=11}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[],r=L(e);for(let i=t.nextElementSibling;s.length<I&&i;i=i.nextElementSibling)r&&i.nodeName in r||s.push({type:M(i,e)});return s}function U(t){let{formatVersion:e,descendants:s=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=L(e),i=e>=13,n=i&&t.shadowRoot||t,o=n.querySelectorAll("*");for(let t=0;t<o.length&&s.length<I;t++){const n=o[t];e>=13&&n.ownerSVGElement||(r&&n.nodeName in r||(s.push({type:M(n,e)}),i&&n.shadowRoot&&s.push(...U(n.shadowRoot,{formatVersion:e,descendants:s}))))}return s}const V=function(t){let{formatVersion:e,ignore:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"!=typeof e&&(e=s?12:11),this.type=M(t,e),this.elders=x(B(t,{formatVersion:e})),this.youngerSiblings=x(H(t,{formatVersion:e})),this.descendants=x(U(t,{formatVersion:e})),f(t,this),this.name=_(t)};V.fromObject=function(t){if(t instanceof V)return t;const e=Object.create(V.prototype);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},V.prototype.toString=function(){return`${V.hex(this.type)};${this.elders};${this.youngerSiblings};${this.descendants}`};var F=s(4991);function $(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),r=1;r<e;r++)s[r-1]=arguments[r];const i=1===s.length&&s[0].includes(".")?s[0].split("."):s;let n=t;for(let t=0;t<i.length;t++){if(n=n[i[t]],!n)break}return n}function q(t){if(!t)return;const e=t.match(/[\d,]+/);return e&&parseFloat(e[0].replace(",","."))}function G(t){const e=t.composedPath&&t.composedPath();let{target:s}=t;return s.shadowRoot&&e&&e.length>0&&([s]=e),s}function K(t,e){let s;if(s="function"==typeof e?t.findIndex(e):t.findIndex((t=>t===e)),s>=0){const e=t.splice(s,1);if(e&&e.length>0)return e[0]}}const j=()=>{if(void 0===CE2.state._isFB){const t=CE2.n.userAgent;for(let e=0,s=["FBSN","FBAN","FBAV"];e<s.length;e++){const r=s[e];if(t.indexOf(r)>-1){CE2.state._isFB=!0;break}}CE2.state._isFB||(CE2.state._isFB=!1)}return CE2.state._isFB},W=function(t,e){const s=t[e];return function(){try{for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return s.apply(t,r)}catch(t){}}},Y=function(t,e){if(t==e)return!0;if("function"==typeof t.contains)return t.contains(e);let s=e;do{s=s.parentNode}while(s&&s!=document.body&&s!=t);return s==t},X=function(t,e){let s,r;if(t&&t.length)for(s=0;r=t[s++];)if(Y(r,e))return r},Q=function(t,e){const s=CE2.fp.scroll(e);return[t.clientX+s.left,t.clientY+s.top]},z=function(t){const e="key_"+ +new Date;try{const s=t.contentWindow;s[e]="temp";const r="temp"===s[e];return r&&delete s[e],r}catch(t){return!1}},J=function(t){return"string"==typeof t.tagUrn&&t.tagUrn.indexOf("vml")>=0};var Z=s(2638),tt=s(598),et=s(7419),st=s(2218);class rt{constructor(t){CE2BH.defineProperty(this,"ACTIVITY_WINDOW",1e4),CE2BH.defineProperty(this,"INACTIVE_TIME_LIMIT",9e4),this.tracker=t,this.trigger()}update(){this.trigger()}trigger(){const t=+new Date;if(this.lastActive){const e=t-this.lastActive;if(e>this.INACTIVE_TIME_LIMIT){const t=[this.tracker.visitID,e],s=this.tracker.newEvent(Pe.INACTIVE,{attributes:t});this.tracker.send(s,{timestamp:this.lastActive})}}const e=this.lastActive&&t-this.lastActive;e&&e<=this.ACTIVITY_WINDOW||(this.lastActive=t,this.tracker.session&&this.tracker.session.alive())}}class it{constructor(t){this.tracker=t,this.opaqueElement=null,this.lastClicked=null,this.ignoredElements=CE2.state.ignoredElements.concat([...CE2.d.body.getElementsByClassName("-ce-ignore")]),this.tracker.addEventListener("mousedown",W(this,"onClick")),this.tracker.addEventListener("change",W(this,"onChange"));for(let t=0,e=CE2.d.querySelectorAll("OBJECT, EMBED");t<e.length;t++){const s=e[t],r=CE2.fp.getBox(s);r.width>1&&r.height>1&&(this.tracker.addEventListener("mouseover",W(this,"onOver"),s),this.tracker.addEventListener("mouseout",W(this,"onOut"),s))}for(let t=0,e=CE2.d.querySelectorAll("FRAME, IFRAME");t<e.length;t++){const s=e[t];if(z(s))this.tracker.addEventListener("mousedown",W(this,"onClickFrame"),CE2.ieVersion<9?s.contentWindow.document:s.contentWindow);else{const t=CE2.fp.getBox(s);t.width>1&&t.height>1&&(this.tracker.addEventListener("mouseover",W(this,"onOver"),s),this.tracker.addEventListener("mouseout",W(this,"onOut"),s))}}this.tracker.addEventListener("blur",W(this,"onBlur")),this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload"))}cleanup(){delete this.lastClicked,delete this.lastClickedTime,delete this.ignoredElements}onChange(t){if(t.target&&"SELECT"===t.target.tagName){this.tracker.onActivity();for(let e=0,s=t.target.querySelectorAll("option");e<s.length;e++){const t=s[e];t.selected&&this.click(t,null,null,"l")}}}onClick(t,e){this.tracker.onActivity();const s=this.mouseButton(t);if(e){const e=function(t){return t.source||t.view||t.srcElement.ownerDocument.parentWindow}(t),r=e.frameElement;this.click(...[r].concat(Q(t,e)).concat(s,t))}else{const e=this.tracker.formatVersion>=13?G(t):t.srcElement||t.target;if("OPTION"===e.tagName&&e.parentElement&&"SELECT"===e.parentElement.tagName)return;this.click(e,null,null,s,t)}}onBlur(){const t=this.opaqueElement;t&&t!==this.lastClicked&&(this.click(t),this.opaqueElement=null)}onUnload(){const t=this.opaqueElement;t&&this.isIgnored(t)&&(this.click(t),this.opaqueElement=null)}onClickFrame(t){this.onClick(t,!0)}onOver(t){const e=t.srcElement||t.target;this.isIgnored(e)||(this.opaqueElement=e)}onOut(t){this.isIgnored(t.srcElement||t.target)||(this.opaqueElement=null)}click(t,e,s,r,i){if(this.isTopLevelElement(t)||this.isIgnored(t))return;if(t=this.tracker.getElementToRecord(t),J(t))return;const n=this.tracker.getFingerprint(t),o=this.getClickPosition(e,s,n,i);o.button=r,"l"===r&&(o.clickType=this.getClickType(i)),this.lastClicked=t;const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(n),o.x,o.y,o.button,o.pageX,o.pageY,o.clickType],c=this.tracker.newEvent(Pe.CLICK,{attributes:a});this.tracker.send(c)}getClickPosition(t,e,s,r){let i;const n={x:t||0,y:e||0,pageX:0,pageY:0};return r&&(r.srcElement||r.target)?(t||(i=Q(r),n.x=i[0]-s.pageX,n.y=i[1]-s.pageY),n.pageX=r.pageX,n.pageY=r.pageY):t&&e?(n.x=t,n.y=e):r||(n.x=n.pageX=s.width/2,n.y=n.pageY=s.height/2),n}getClickType(t){if(!t)return"";const e=G(t),s=this.isClickableElement(e);let r="";return s||(r+=Le.NOT_CLICKABLE),this.rageClick(t,e,s)&&(r+=Le.RAGE,this.tracker.rageClick()),s&&this.authenticationButton(e)&&(r+=Le.AUTH_BUTTON),r||void 0}rageClick(t,e,s){if(!t)return!1;if(t.timeStamp===this.lastEventTimeStamp)return this.lastRageValue;let r=!1;if(t.detail>2)r=!0;else if(this.lastClickedTime){const i=+new Date-this.lastClickedTime;(s&&this.lastClickedElement===e&&2!==t.detail||!s)&&i<3e3&&(r=!0)}return this.lastClickedTime=+new Date,this.lastEventTimeStamp=t.timeStamp,this.lastRageValue=r,this.lastClickedElement=e,r}authenticationButton(t){if(t.innerText){const e=t.innerText.trim().toLowerCase(),s=["sign in with","register with","authorize","join with"].some((t=>new RegExp(`^${t}`).test(e)));return!!s||["sign in","signin","signup","sign up","register","login","create account","register account","join","join us"].some((e=>e===t.innerText.trim().toLowerCase()))}}isClickableElement(t){const e=["a","a *","button","button *","input","option","select"].join(",");if((0,tt.Ku)(t,e))return!0;const s=getComputedStyle(t);return"pointer"===s.cursor||"text"===s.cursor||"underline"===s.textDecoration}mouseButton(t){let e;return e=CE2.ieVersion&&(CE2.ieVersion<9||CE2.ieQuirksMode)?{1:"l",2:"r",4:"m"}:{0:"l",1:"m",2:"r"},e[t.button]}isTopLevelElement(t){return t===document||t===document.body||t===document.documentElement}isIgnored(t){return X(this.ignoredElements,t)}}class nt{constructor(t){CE2BH.defineProperty(this,"CHECKOUT_STARTED_KEY","ceeccs"),CE2BH.defineProperty(this,"eventTypes",{ADD_TO_CART:1,CHECKOUT_STARTED:2,CHECKOUT_COMPLETED:3}),this.tracker=t,this.tracker.addEventListener("mousedown",(t=>{"l"===this.tracker.eventHandlers.click.mouseButton(t)&&this.onClick&&this.onClick(t)})),setTimeout(W(this,"update"))}setCheckoutStarted(){CE2.cookieStorage.set(this.CHECKOUT_STARTED_KEY,1)}getCheckoutStarted(){return"1"===CE2.cookieStorage.get(this.CHECKOUT_STARTED_KEY)}delCheckoutStarted(){CE2.cookieStorage.del(this.CHECKOUT_STARTED_KEY)}isCheckoutStarted(){return!this.getCheckoutStarted()&&this.CHECKOUT_STARTED_PATH_REGEXP&&this.CHECKOUT_STARTED_PATH_REGEXP.test(CE2.w.location.pathname)}isCheckoutCompleted(){return this.getCheckoutStarted()&&this.CHECKOUT_COMPLETED_PATH_REGEXP&&this.CHECKOUT_COMPLETED_PATH_REGEXP.test(CE2.w.location.pathname)}update(){this.isCheckoutStarted()&&this.checkout(),this.isCheckoutCompleted()&&this.checkoutCompleted()}checkout(){this.setCheckoutStarted(),this.sendCheckoutStartedEvent()}checkoutCompleted(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.delCheckoutStarted(),this.sendCheckoutCompletedEvent(t)}sendCheckoutStartedEvent(){this.sendEvent([this.eventTypes.CHECKOUT_STARTED])}sendCheckoutCompletedEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,...t])}addToCart(t){this.delCheckoutStarted(),this.sendEvent([this.eventTypes.ADD_TO_CART,...t])}sendEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=[this.tracker.visitID,...t];const e=this.tracker.newEvent(CE2.V11Tracker.eventTypes.ECOMMERCE,{attributes:t});this.tracker.send(e)}amountInCents(t){return this.tracker.amountInCents(t)}}class ot extends nt{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*thank(_|-)?you/i)}onClick(t){const{target:e}=t;if((0,tt.Ku)(e,'.single_add_to_cart_button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(e.innerText||e.value)){let t=[];const e=ot.getProduct();if(e)try{const s=CE2.d.querySelector("input.qty"),r=e.offers&&(e.offers[0]||e.offers);this.currency=r&&r.priceCurrency,t=[e.sku||e["@id"],e.name,s&&s.value,this.amountInCents(r&&(r.price||r.lowPrice||r.hightPrice)),r&&r.priceCurrency]}catch(t){(0,F.f)("error extracting product data",t)}this.addToCart(t)}}static getProduct(){for(let t=0,e=CE2.d.querySelectorAll('script[type="application/ld+json"]');t<e.length;t++){const s=e[t];try{const t=CE2.Native.JSON.parse(s.textContent.trim());if(t){if("Product"===t["@type"])return t;if(t["@graph"]instanceof Array){const e=t["@graph"].find((t=>"Product"===t["@type"]));if(e)return e}}}catch(t){(0,F.f)("error extracting product data",t)}}}sendCheckoutCompletedEvent(){const t=CE2.d.querySelector(".order"),e=CE2.d.querySelector(".total");this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,ot.getValue(t&&t.innerText),this.amountInCents(ot.getValue(e&&e.innerText)),this.currency]),CE2.increaseSessionWorth(ot.getValue(e&&e.innerText),this.currency)}static getValue(t){return t&&(t.indexOf(":")>-1?t.split(":")[1].trim():t)}static match(){return Object.keys(CE2.w).find((t=>/^wc_.*_params$/.test(t)))}}class at extends nt{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*success/i)}onClick(t){const{target:e}=t;if((0,tt.Ku)(e,'#product-addtocart-button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(e.innerText||e.value)){let t=[];const s=at.getProduct(e);this.currency=s.priceCurrency,s&&(t=[s.id,s.name,s.qty,this.amountInCents(s.price),s.priceCurrency]),this.addToCart(t)}}static getProduct(t){const e={};try{const s=t.closest(".product-info-main");e.name=CE2.d.querySelector(".page-title")&&CE2.d.querySelector(".page-title").innerText,e.qty=s.querySelector("input.qty")&&s.querySelector("input.qty").value,e.id=s.querySelector('input[name="product"]')&&s.querySelector('input[name="product"]').value,e.price=s.querySelector('[itemprop="price"]')&&(s.querySelector('[itemprop="price"]').getAttribute("content")||s.querySelector('[itemprop="price"]').innerText),e.priceCurrency=s.querySelector('[itemprop="priceCurrency"]')&&s.querySelector('[itemprop="priceCurrency"]').getAttribute("content")}catch(t){(0,F.f)("error extracting product data",t)}return e}sendCheckoutCompletedEvent(){const t=CE2.d.querySelector(".order-number"),e=CE2.d.querySelector(".grand_total .amount");this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,t&&t.innerText,e&&e.innerText&&this.amountInCents(e.innerText),this.currency]),CE2.increaseSessionWorth(e&&e.innerText,this.currency)}static match(){return CE2.w.checkout&&CE2.w.checkout.checkoutUrl&&CE2.w.checkout.websiteId||[...document.scripts].find((t=>t.src&&t.src.indexOf("Magento")>-1))||[...document.querySelectorAll("link")].find((t=>t.href&&t.href.indexOf("Magento")>-1))}}const ct={shopify:class extends nt{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*thank(_|-)?you/i),CE2.w.ShopifyAnalytics.lib.integrations.push({isEssential(){return!0},track:async t=>{await this.onEvent(t)}})}update(){super.update(),this.updateWorth()}async updateWorth(){try{await fetch(CE2.w.Shopify.routes.root+"cart.js").then((t=>t.json())).then((t=>{this.total_price!=t.total_price&&(this.total_price=t.total_price,CE2.increaseSessionWorth(parseFloat(t.total_price)/100,t.currency))}))}catch(t){CE2.debug("error fetching cart value",t)}}async onEvent(t){let e=[];if(t&&"Added Product"===t.event){const{productId:s,name:r,quantity:i,price:n,currency:o}=t.properties||{};e=[s,r,i,this.amountInCents(n),o],this.addToCart(e),await this.updateWorth()}}sendCheckoutCompletedEvent(){const t=CE2.w.Shopify&&CE2.w.Shopify.checkout||{};this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,t.order_id,this.amountInCents(t.total_price&&t.total_price/100),t.currency]),this.total_price=t.total_price,CE2.increaseSessionWorth(parseFloat(t.total_price)/100,t.currency)}static match(){return CE2.w.Shopify&&$(CE2.w,"ShopifyAnalytics.lib.integrations")}},woocommerce:ot,magento:at,wix:class extends nt{constructor(){super(...arguments);const t=CE2.w.location.host,e=this.onEvent.bind(this);CE2.w.CE2_WIX_API_TESTING?CE2.w.wixDevelopersAnalytics.register(t,e):CE2.w.addEventListener("wixDevelopersAnalyticsReady",(()=>{CE2.w.wixDevelopersAnalytics.register(t,e)}))}onEvent(t,e){if("AddToCart"===t){const t=[e.sku,e.name,e.quantity,this.amountInCents(e.price),e.currency];this.addToCart(t)}"InitiateCheckout"===t&&this.checkout(),"Purchase"===t&&(this.checkoutCompleted([e.orderId,this.amountInCents(e.revenue),e.currency]),CE2.increaseSessionWorth(e.revenue,e.currency))}static match(){return!!CE2.w.fedops}},squarespace:class extends nt{constructor(){super(...arguments),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout\?cartToken/i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/website\/thank-you-page/i),CE2BH.defineProperty(this,"ADD_TO_CART_BUTTON_NAME_PATTERN",/add to (cart|bag|basket)/i),CE2BH.defineProperty(this,"CHECKOUT_BUTTON_NAME_PATTERN",/checkout/i),CE2BH.defineProperty(this,"getProductData",(()=>{const t=CE2.d.querySelectorAll('script[type="application/ld+json"]'),e=CE2.d.querySelector(".product-variants[data-selected-variant]");if(!e)return(0,F.f)("Variants not found"),null;const s=CE2.Native.JSON.parse(e.getAttribute("data-selected-variant"));if(s)for(let e=0;e<t.length;e++){const r=t[e],i=CE2.Native.JSON.parse(r.textContent);if(i.offers){const t=CE2.d.querySelector(".product-quantity-input input");return this.currency=$(s,"priceMoney.currency"),[s.sku,i.name,t&&parseInt(t.value,10),this.amountInCents(q($(s,"priceMoney.value"))),this.currency]}}}))}onClick(t){const{target:e}=t;if((t=>(0,tt.Ku)(t,".sqs-add-to-cart-button-inner"))(e)&&(t=>this.ADD_TO_CART_BUTTON_NAME_PATTERN.test(t.innerText||t.value))(e))return this.processAddToCardAction();(t=>this.CHECKOUT_BUTTON_NAME_PATTERN.test(t.innerText||t.value))(e)&&!this.getCheckoutStarted()&&this.checkout()}processAddToCardAction(){try{const t=this.getProductData();t&&this.addToCart(t)}catch(t){(0,F.f)("error extracting product data",t)}}static match(){return CE2.w.SQUARESPACE_ROLLUPS||Object.keys(CE2.w).find((t=>t.includes("__INITIAL_SQUARESPACE")))}}};let lt;for(let t=0,e=Object.entries(ct);t<e.length;t++){const[s,r]=e[t];if(r.match()){lt=r,(0,F.f)(`Tracker: ${s} site detected`);break}}const ht="<unknown>",ut=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dt=/\((\S*)(?::(\d+))(?::(\d+))\)/;const pt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;const ft=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,gt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;const mt=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;const Et=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function vt(t){return t.split("\n").reduce(((t,e)=>{const s=function(t){const e=ut.exec(t);if(!e)return null;const s=e[2]&&0===e[2].indexOf("native"),r=e[2]&&0===e[2].indexOf("eval"),i=dt.exec(e[2]);return r&&null!=i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:s?null:e[2],methodName:e[1]||ht,arguments:s?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}(e)||function(t){const e=pt.exec(t);return e?{file:e[2],methodName:e[1]||ht,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){const e=ft.exec(t);if(!e)return null;const s=e[3]&&e[3].indexOf(" > eval")>-1,r=gt.exec(e[3]);return s&&null!=r&&(e[3]=r[1],e[4]=r[2],e[5]=null),{file:e[3],methodName:e[1]||ht,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}(e)||function(t){const e=Et.exec(t);return e?{file:e[2],methodName:e[1]||ht,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){const e=mt.exec(t);return e?{file:e[3],methodName:e[1]||ht,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}(e);return s&&t.push(s),t}),[])}class Ct{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cached_assets=new Set;for(let e=0;e<t.length;e++){const s=t[e];this.cached_assets.add(s)}}add(t){this.cached_assets.add((0,st.F)(t))}test(t){return this.cached_assets.has((0,st.F)(t))}items(){const t=[];return this.cached_assets.forEach((e=>t.push(e))),t}}class yt{constructor(t){this.tracker=t,this.setupCache(),this.setupQueue(),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.app_version&&(this.appVersion=CE_ERROR_TRACKING_CONFIG.app_version),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.delay_time?this.delayTime=CE_ERROR_TRACKING_CONFIG.delay_time:this.delayTime=1e4,"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.fingerprint?this.fingerprint=CE_ERROR_TRACKING_CONFIG.fingerprint:this.fingerprint=(t,e)=>{const s=[];return s.push(`${e.name}`),e.file&&s.push(`[${e.file}:${e.lineno}:${e.colno}]`),s.join(" ")},this.tracker.addEventListener("error",W(this,"onError")),this.tracker.addEventListener("unhandledrejection",W(this,"onError"))}static removeFingerprintFrom(t){if(!t)return t;if(t.replace(".js","").match(/^([0-9]+([\-|\.|\_])?)+$/))return t;return t.split(/([a-z0-9]+[\-|\.|\_]+)/i).filter((t=>{if(!t)return!1;const e=t.replace(/[^0-9]/g,"").length,s=t.replace(/[\.\-\_]/,"").length,r=e===s;return!!(r&&e<=3)||!(e/s>.15||r)})).join("").replace(/[\-\.\_]js$/,".js")}update(){this.setupQueue(),this.setupCache()}onError(t){try{let e;if(e="Script error."===t.message?this.buildBaseError(t,t.reason,null,"CrossOrigin Error"):t.error?this.buildBaseError(t,t.error):t.promise?this.buildBaseError(t,t.reason,"UnhandledPromise ->"):this.buildBaseError(t),this.cache.test(e.fingerprint))return;this.bufferQueue.push({timestamp:+new Date,errorAttributes:e}),this.cache.add(e.fingerprint)}catch(e){(0,F.f)(e),(0,F.f)(t)}}setupCache(){this.cache=new Ct}setupQueue(){this.bufferQueueTimeout&&clearTimeout(this.bufferQueueTimeout),this.bufferQueue=[],this.processQueue(!0)}processQueue(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(;this.bufferQueue.length>0;){const{timestamp:t,errorAttributes:r}=this.bufferQueue[0];if(!e&&+new Date-t<this.delayTime)break;const i=[this.tracker.visitID,r.name,r.message,r.filename,r.lineno,r.colno,r.stack,r.appVersion,r.fingerprint,r.url,r.uuid,r.bounced||s,r.rageClicked],n=this.tracker.newEvent(Pe.ERROR,{timestamp:t,attributes:i});this.tracker.send(n),this.bufferQueue.shift()}if(t){const e=W(this,"processQueue");this.bufferQueueTimeout=setTimeout((()=>{e(t)}),this.delayTime)}}flush(t){this.processQueue(!1,!0,t)}assignAttribute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rageClicked";this.bufferQueue.forEach((e=>{e.errorAttributes[t]=!0}))}buildBaseError(t,e,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=CE2BH.extends({},this.parseErrorFileAttributes(t,e),this.parseErrorMessageAttributes(t,e,r));return i.uuid=CE2.uuid_v1(),i.appVersion=this.appVersion,i.url=CE2.w.location.href,i.name=s?`${s} ${i.name}`:i.name,i.fingerprint=t.fingerprint||this.fingerprint(t,i),i.rageClicked=!1,i.bounced=!1,i}parseErrorFileAttributes(t,e){let s={};if(t.filename)s={filename:t.filename,lineno:t.lineno,colno:t.colno,stack:e&&e.stack&&e.stack.toString()};else if(e&&e.stack)try{const t=vt(e.stack);t.length>=1&&(s={filename:t[0].file,lineno:t[0].lineNumber,colno:t[0].column,stack:e.stack.toString()})}catch(t){(0,F.f)(t)}if(s.filename&&0!==s.filename.indexOf("blob:"))if(this.isValidFileUrl(s.filename)){const t=new CE2.URL(s.filename),e=new CE2.URL(CE2.w.location.href);if(t.path!==e.path){let e=t.path;"/"!==t.path&&"/"===t.path[t.path.length-1]&&(e=t.path.slice(0,t.path.length-1)),s.file="/"!==e?e.split("/").pop():e}}else s.file="unknown";return s.file=yt.removeFingerprintFrom(s.file),s}parseErrorMessageAttributes(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={};if(e&&e.message){const t=e.message.replace(/^Uncaught /,"");r.message=e.name?`${e.name}: ${t}`:t}else if(e)r.message=e;else if(t.message)r.message=t.message.replace(/^Uncaught /,"");else if(t.target){const e=["Error on"];t.target.tagName&&e.push(t.target.tagName),t.target.src&&e.push(t.target.src!==CE2.w.location.href?t.target.src:"Empty src attribute"),r.message=e.join(" "),r.name="Unknown Resource Error"}return r.message||(r.message="Unknown Error"),s?r.name=s:r.name||(r.name=function(t){if(t.length<=50)return t.trim();const e=t.trim().split(" ");for(let t=1;t<=e.length;t++){const s=e.slice(0,t).join(" ");if(s.length<=50)continue;const r=t===e.length;return s.trim()+(r?"":" ...")}return t.trim()}(r.message)),r}isValidFileUrl(t){try{if(window.URL)return!!new window.URL(t)}catch(t){(0,F.f)(t)}}}const kt=[[.4,.4],[.5,.4],[.5,.5],[.4,.5],[.3,.5],[.3,.4],[.3,.3],[.4,.3],[.5,.3],[.6,.3],[.6,.4],[.6,.5],[.6,.6],[.5,.6],[.4,.6],[.3,.6],[.2,.6],[.2,.5],[.2,.4],[.2,.3],[.2,.2],[.3,.2],[.4,.2],[.5,.2],[.6,.2],[.7,.2],[.7,.3],[.7,.4],[.7,.5],[.7,.6],[.7,.7],[.6,.7],[.5,.7],[.4,.7],[.3,.7],[.2,.7],[.1,.7],[.1,.6],[.1,.5],[.1,.4],[.1,.3],[.1,.2],[.1,.1],[.2,.1],[.3,.1],[.4,.1],[.5,.1],[.6,.1],[.7,.1],[.8,.1],[.8,.2],[.8,.3],[.8,.4],[.8,.5],[.8,.6],[.8,.7],[.8,.8],[.7,.8],[.6,.8],[.5,.8],[.4,.8],[.3,.8],[.2,.8],[.1,.8],[0,.8],[0,.7],[0,.6],[0,.5],[0,.4],[0,.3],[0,.2],[0,.1],[0,0],[.1,0],[.2,0],[.3,0],[.4,0],[.5,0],[.6,0],[.7,0],[.8,0],[.9,0],[.9,.1],[.9,.2],[.9,.3],[.9,.4],[.9,.5],[.9,.6],[.9,.7],[.9,.8],[.9,.9],[.8,.9],[.7,.9],[.6,.9],[.5,.9],[.4,.9],[.3,.9],[.2,.9],[.1,.9],[0,.9]],Tt=`cedk${Math.random().toString().replace(/\D/g,"")}`;function bt(t,e,s){if(!t||!t.nodeName)return!1;if(t==CE2.d||t==CE2.d.documentElement||t==CE2.d.body)return!1;if(J(t))return!1;if(s){if(!function(t){let e;if(t[Tt])return!1;for(;t&&t!=CE2.d&&t!=CE2.d.documentElement&&t!=CE2.d.body;t=t.parentNode)if(e=CE2.w.getComputedStyle(t),e&&("absolute"==e.position||"fixed"==e.position))return!(t[Tt]=!0);return!0}(t))return!1;if(CE2.fp.getBox(t).height>2*e.height)return!1}return!0}function wt(t,e,s){const r=CE2.d.elementFromPoint(t+s.left,e+s.top);return r.nodeType===r.TEXT_NODE?r.parentNode:r}function St(t,e){return CE2.d.elementFromPoint(t,e)}let _t=function(){if(CE2.d.elementFromPoint)return _t=CE2.webkit&&CE2.webkitVersion<533||CE2.opera&&CE2.operaVersion<10?wt:St,_t(...arguments)};class At{constructor(){this.strictAnchorSearch=!0,this.lastRecordedScroll=null,this.lastRecordedTime=0,this.lastRecordedY=0,this.idleAt=null,this.idleSince=(new Date).getTime()}shouldRecordScroll(t){const e=t.top,s=t.height,r=`${e}:${s}`,i=(new Date).getTime();if(r==this.lastRecordedScroll)return!1;if(r==this.idleAt){if(i-this.idleSince>=800)return this.lastRecordedScroll=r,this.lastRecordedTime=i,this.lastRecordedY=e,!0}else this.idleAt=r,this.idleSince=i;return null==this.lastRecordedScroll||Math.abs(e-this.lastRecordedY)>s/2&&i-this.lastRecordedTime>=1600?(this.lastRecordedScroll=r,this.lastRecordedTime=i,this.lastRecordedY=e,!0):void 0}findAnchor(t,e){if(!CE2.d.elementFromPoint)return e(t);const s=this;let r=0,i=this.strictAnchorSearch;const{width:n}=t,{height:o}=t;let a,c,l,h;const u=function(){if(a=kt[r++]){if(l=(a[0]+.1*Math.random())*n,h=(a[1]+.1*Math.random())*o,c=_t(l,h,t),bt(c,t,i))return e(t,c);setTimeout(u,0)}else r=0,s.strictAnchorSearch=i=!1,setTimeout(u,0)};setTimeout(u,0)}}CE2.EXCESSIVE_SCROLL_TIMEOUT=3e3;class It{constructor(t){this.tracker=t,this.timeout=CE2.EXCESSIVE_SCROLL_TIMEOUT,this.isTriggered=!1,this.isScrolledDown=!1,this.scrollTracker=new At,this.viewport=null,setTimeout(W(this,"cleanup"),this.timeout),this.trackScrollInterval=setInterval(W(this,"trackScroll"),500),this.foundAnchorBind=W(this,"foundAnchor")}cleanup(){clearInterval(this.trackScrollInterval),this.isTriggered=!1,this.isScrolledDown=!1,this.viewport=null,delete this.scrollTracker,delete this.foundAnchorBind}trackScroll(){const t=CE2.fp.scroll();this.scrollTracker.findAnchor(t,this.foundAnchorBind)}foundAnchor(t,e){if(this.isTriggered)return;const s=this.anchorViewport(t,e),r=s.viewportTop/s.viewportHeight*100;this.isScrolledDown?r<=80&&(this.sendEvent(this.viewport),this.isTriggered=!0):r>90&&(this.viewport=s,this.isScrolledDown=!0)}anchorViewport(t,e){const s=t.top,r=t.height;let i,n,o;return e&&(e=this.tracker.getElementToRecord(e),i=this.tracker.getFingerprint(e),n=t.top-i.pageY,o=t.top+t.height-i.pageY),{viewportTop:s,viewportHeight:r,viewportTopDistance:n,viewportBottomDistance:o}}sendEvent(t){let{viewportTop:e,viewportHeight:s,viewportTopDistance:r,viewportBottomDistance:i}=t;const n=[this.tracker.visitID,e,s,r,i],o=this.tracker.newEvent(Pe.EXCESSIVE_SCROLL,{attributes:n});this.tracker.send(o),this.tracker.addTag("excessive scroll")}}var Ot=s(1278);const Nt="ce_submit_forms";function Rt(t,e){const s=t[e];return"string"==typeof s?s:t.getAttribute(e)}class Lt{static formAttributes(t){return[Rt(t,"id"),Rt(t,"name"),new CE2.Native.URL(Rt(t,"action"),CE2.w.location.href).toString()]}static validateEmail(t){const e=document.createElement("input");return e.type="email",e.required=!0,e.value=t,"function"==typeof e.checkValidity?e.checkValidity():/\S+@\S+\.\S+/.test(t)}constructor(t){CE2BH.defineProperty(this,"EMAIL_ATTRIBUTE_REGEX",/e([-_])?mail/i),CE2BH.defineProperty(this,"FORM_REGEX",/sign([-_\s])?up|checkout|log([-_\s])?in|sign([-_\s])?in/i),CE2BH.defineProperty(this,"eventTypes",{SUBMIT:1,RESUBMIT:2,ABANDON:3,SIGNUP:4,LOGIN:5,EMAIL:6,SEARCH:7}),this.tracker=t,this.tracker.addEventListener("mousedown",(t=>{"l"===this.tracker.eventHandlers.click.mouseButton(t)&&this.onClick(t)})),CE2.data.auto_identity&&!CE2.IDENTIFIER&&(CE2.w.ShopifyAnalytics&&$(CE2.w,"ShopifyAnalytics.meta.page.customerId")&&(0,Ot.yV)(ShopifyAnalytics.meta.page.customerId),this.tracker.addEventListener("blur",W(this,"onBlur")),this.tracker.addEventListener("submit",W(this,"onBlur"))),this.tracker.addEventListener("submit",W(this,"onSubmit")),this.tracker.addEventListener("input",W(this,"onInput")),this.tracker.addEventListener("beforeunload",W(this,"beforeUnload")),this.editedForms=[],this.submittedForms=CE2.Native.JSON.parse(sessionStorage.getItem(Nt)||"[]")}onClick(t){const{target:e}=t;if(!e)return;const s=e.closest("form");if(s&&"INPUT"===e.tagName&&("button"===e.type||"submit"===e.type)||"BUTTON"===e.tagName){const t="INPUT"===e.tagName?e.value:e.innerText;(/(log\s*in)|(sign\s*in)/i.test(t)||s&&/(log[\-_]in)|(sign[\-_]in)/i.test(s.action))&&this.sendEvent([this.eventTypes.LOGIN]),(/(sign\s*up)|register/i.test(t)||s&&/(sign[\-_\s]up)|register/i.test(s.action))&&this.sendEvent([this.eventTypes.SIGNUP])}"INPUT"!==e.tagName&&"BUTTON"!==e.tagName||"submit"===e.type&&s&&this.submit(s,e)}onSubmit(t){const e=t.target;e&&(e.ce_submit&&+new Date-e.ce_submit<100||this.submit(e))}onBlur(t){try{const{target:e}=t;if(!e||"function"!=typeof e.closest)return;const s=e.closest("form"),r="INPUT"===e.tagName&&e.value&&Lt.validateEmail(e.value);s&&this.isAuthForm(s)&&r&&!CE2.IDENTIFIER&&(0,Ot.yV)(e.value)}catch(t){CE2.debug("form blur trigger failed",t)}}onInput(t){const{target:e}=t;if(!e)return;const s=e.closest("form");s&&!this.editedForms.includes(s)&&this.editedForms.push(s),s&&!s.ce_time_start&&(s.ce_time_start=+new Date),"INPUT"===e.tagName&&("search"===e.type||e.placeholder&&/search/i.test(e.placeholder))&&(!e.ce_search||+new Date-e.ce_search>3e4)&&(e.ce_search=+new Date,this.sendEvent([this.eventTypes.SEARCH])),"INPUT"===e.tagName&&e.value&&Lt.validateEmail(e.value)&&(!e.ce_email_sent||+new Date-e.ce_email_sent>6e4)&&(e.ce_email_sent=+new Date,this.sendEvent([this.eventTypes.EMAIL]))}beforeUnload(){this.editedForms.forEach((t=>{this.sendEvent([this.eventTypes.ABANDON,...Lt.formAttributes(t)])})),this.editedForms=[],sessionStorage.setItem(Nt,CE2.Native.JSON.stringify(this.submittedForms))}submit(t){try{const e=this.editedForms.indexOf(t);-1!==e&&this.editedForms.splice(e,1),t.ce_submit=+new Date;const s=Lt.formAttributes(t);let r;-1!==this.submittedForms.indexOf(CE2.Native.JSON.stringify(s))?r=this.eventTypes.RESUBMIT:(this.submittedForms.push(CE2.Native.JSON.stringify(s)),r=this.eventTypes.SUBMIT);const i=[r,...s];t.ce_time_start&&(i.push(+new Date-t.ce_time_start),delete t.ce_time_start),this.sendEvent(i)}catch(t){CE2.debug("form submit event failed",t)}}sendEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=[this.tracker.visitID,...t];const e=this.tracker.newEvent(Pe.FORM,{attributes:t});this.tracker.send(e)}isAuthForm(t){const e=Rt(t,"action"),s=Rt(t,"class"),r=Rt(t,"id"),i=Rt(t,"name");return this.isMatch(e)||this.isMatch(s)||this.isMatch(r)||this.isMatch(i)}isMatch(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.FORM_REGEX;return t&&t.match(e)}}var Pt=s(8229),Dt=s(9330);const Mt=(t,e,s,r)=>{if(!s||s.type!==e)return!1;if(!t.on_any_page&&!(0,Dt.pI)(t.on_page,CE2.w.location.href))return!1;let i=t[`selector_for_${{1:"desktop",2:"phone",3:"tablet"}[CE2.clock.getDeviceType()]}`];return!!i&&("function"==typeof CE2.fixTriggerSelector&&(i=CE2.fixTriggerSelector(r,i)),!(!i||!(0,tt.Ku)(s.target,i,!0)))},xt=(t,e)=>!(!t.on_any_page&&!(0,Dt.pI)(t.on_page,CE2.w.location.href))&&(t.api===e.api&&(("string"!=typeof t.id||t.id.replace(/^(G|AW)-/,"")===e.id)&&("string"!=typeof t.event||t.event.toLowerCase()===e.type.toLowerCase())));class Bt{constructor(){this.events=[],this.api=this.apiName(),this.find(),this.listeners=new Set}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}find(){throw new Error(`${this.constructor.name}.find() not implemented`)}apiName(){throw new Error(`${this.constructor.name}.apiName() not implemented`)}urlMatches(){throw new Error(`${this.constructor.name}.urlMatches(url) not implemented`)}getId(){throw new Error(`${this.constructor.name}.getId() not implemented`)}getEventType(){throw new Error(`${this.constructor.name}.getEventType() not implemented`)}recordEvent(t){const e={api:this.api,properties:t},s=this.getId(t);null!=s&&(e.id=s);const r=this.getEventType(t);"string"==typeof r&&r.trim().length>0&&(e.type=r),this.events.push(e),this.listeners.forEach((t=>{t(e)}))}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}}class Ht{constructor(){this.listeners=new Set,this.bufferedEvents=[]}trigger(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];0===this.listeners.size?this.bufferedEvents.push(e):this.listeners.forEach((t=>{t(...e)}))}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}triggerBuffered(){if(this.bufferedEvents.length>0){for(let t=0,e=this.bufferedEvents;t<e.length;t++){const s=e[t];this.trigger(...s)}this.bufferedEvents=[]}}static getInstance(){return this.instance||(this.instance=new this),this.instance}static destroy(){this.instance&&(this.instance.destroy(),delete this.instance)}static addListener(t){const e=this.getInstance();e.listeners.add(t),e.triggerBuffered()}static removeListener(t){this.instance&&(this.instance.listeners.delete(t),0===this.instance.listeners.size&&this.destroy())}static trigger(){this.instance&&this.instance.trigger(...arguments)}}class Ut extends Ht{constructor(){super(),this.observer=new MutationObserver(this.onMutation.bind(this)),"interactive"===document.readyState||"complete"===document.readyState?this.startObserver():document.addEventListener("DOMContentLoaded",this.startObserver.bind(this))}startObserver(){document.querySelectorAll("script[src]").forEach((t=>{this.trigger(t.getAttribute("src"))})),this.observer.observe(document.documentElement,{subtree:!0,childList:!0})}onMutation(t){for(let e=0;e<t.length;e++){const s=t[e];if(s.addedNodes&&0!==s.addedNodes.length)for(let t=0,e=s.addedNodes;t<e.length;t++){const s=e[t];"SCRIPT"===s.nodeName&&this.trigger(s.getAttribute("src"))}}}destroy(){this.observer.disconnect()}}function Vt(t){const e={};return new URL(t).searchParams.forEach(((t,s)=>{e[s]=t})),e}class Ft extends Bt{constructor(){super(),this.$onScript=this.onScript.bind(this),Ut.addListener(this.$onScript)}destroy(){Ut.removeListener(this.$onScript)}apiName(){return"google"}urlMatches(t){if(!t||"string"!=typeof t)return;return["googleadservices.com/pagead/conversion/","googleads.g.doubleclick.net/pagead/viewthroughconversion/"].some((e=>t.toLowerCase().includes(e.toLowerCase())))}find(){const t=new Set;for(let e=0,s=document.querySelectorAll('script[src*="/gtag/"]');e<s.length;e++){const r=s[e];try{const e=new URL(r.src).searchParams.get("id");e&&/^(AW|G)-/.test(e)&&t.add(e)}catch(t){continue}}t.size>0&&(this.ids=Array.from(t))}getId(t){if(!t.source_url)return;const e=/\/pagead\/(viewthrough)?conversion\/([^/?#]+)/.exec(t.source_url);return e&&e[2]?e[2]:void 0}getEventType(t){const{data:e}=t;if(!e)return;const s=/event=([^;]+)/.exec(e);return s&&s[1]?s[1]:void 0}onScript(t){if(!this.urlMatches(t))return;const e=Vt(t);e.source_url=t,this.getEventType(e)&&this.recordEvent(e)}}const $t=window.Image;function qt(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const r=new $t(...e);return Object.defineProperty(r,"src",{set(t){setTimeout((()=>{Gt.trigger(t)}),0),r.setAttribute("src",t)},get(){return r.getAttribute("src")}}),r}class Gt extends Ht{constructor(){super(),window.Image=qt,window.Image.toString=()=>$t.toString()}destroy(){window.Image=$t}}class Kt extends Bt{constructor(){super(),this.$onImage=this.onImage.bind(this),Gt.addListener(this.$onImage)}destroy(){Gt.removeListener(this.$onImage)}apiName(){return"meta"}urlMatches(t){return t.startsWith("https://www.facebook.com/tr/")}find(){if(window.fbq&&window.fbq.instance&&window.fbq.instance.pixelsByID){const t=Object.keys(window.fbq.instance.pixelsByID);t.length>0&&(this.ids=t)}}getId(t){return t.id}getEventType(t){return t.ev}onImage(t){if(!this.urlMatches(t))return;const e=Vt(t);this.getEventType(e)&&this.recordEvent(e)}}const jt=navigator.sendBeacon;function Wt(t,e){return setTimeout((()=>{try{Yt.trigger(t,e)}catch(t){console.error("sendBeacon error: ",t.stack)}}),0),jt.call(navigator,t,e)}class Yt extends Ht{constructor(){super(),navigator.sendBeacon=Wt,navigator.sendBeacon.toString=()=>jt.toString()}destroy(){navigator.sendBeacon=jt}}class Xt extends Bt{constructor(){super(),this.$onSendBeacon=this.onSendBeacon.bind(this),Yt.addListener(this.$onSendBeacon)}destroy(){Yt.removeListener(this.$onSendBeacon)}apiName(){return"tiktok"}urlMatches(t){return t.startsWith("https://analytics.tiktok.com/")}find(){const t=document.querySelectorAll('script[src*="analytics.tiktok.com"][data-id]'),e=new Set(Array.from(t).map((t=>t.dataset.id)));e.size>0&&(this.ids=Array.from(e))}getId(t){var e,s;return null==t||null===(e=t.context)||void 0===e||null===(s=e.pixel)||void 0===s?void 0:s.code}getEventType(t){return t.event}onSendBeacon(t,e){if(!this.urlMatches(t))return;const s=JSON.parse(e);this.getEventType(s)&&this.recordEvent(s)}}const Qt={google:Ft,meta:Kt,tiktok:Xt};class zt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if("all"===t)this.pixels={google:new Ft,meta:new Kt,tiktok:new Xt};else{this.pixels={};for(let e=0;e<t.length;e++){const s=t[e],r=Qt[s];this.pixels[s]=new r}}this.$onLoad=this.findPixels.bind(this),window.addEventListener("load",this.$onLoad),this.$onDomReady=()=>{this.findPixels(),this.initMutationObserver()},document.addEventListener("DOMContentLoaded",this.$onDomReady),this.findPixels(),this.initMutationObserver()}destroy(){document.removeEventListener("DOMContentLoaded",this.$onDomReady),window.removeEventListener("load",this.$onLoad);for(let t=0,e=Object.values(this.pixels);t<e.length;t++){e[t].destroy()}}findPixels(){for(let t=0,e=Object.values(this.pixels);t<e.length;t++){e[t].find()}}initMutationObserver(){this.mutationObserver||document.documentElement&&(this.mutationObserver=new MutationObserver((t=>{for(let e=0;e<t.length;e++){t[e].addedNodes&&this.findPixels()}})),this.mutationObserver.observe(document.documentElement,{subTree:!0,childList:!0}))}addEventListener(t){for(let e=0,s=Object.values(this.pixels);e<s.length;e++){s[e].addListener(t)}}removeEventListener(t){for(let e=0,s=Object.values(this.pixels);e<s.length;e++){s[e].removeListener(t)}}}Dt.wZ.url_visit=Dt.wZ.visited_page,Dt.wZ.click=function(t){let{operand:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{event:s,goalId:r}=e;return Mt(t,"mousedown",s,r)},Dt.wZ.form_submission=function(t){let{operand:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{event:s,goalId:r}=e;return Mt(t,"submit",s,r)},Dt.wZ.pixel_event=function(t){let{operand:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xt(t,e.event)};class Jt{constructor(t){this.tracker=t,this.goals=this.tracker.goals;const e=W(this,"onClickOrSubmit");this.tracker.addEventListener("mousedown",e),this.tracker.addEventListener("submit",e);const{onActivity:s}=Jt;this.tracker.addEventListener("mousemove",s),this.tracker.addEventListener("scroll",s),this.tracker.addEventListener("keydown",s),this.tracker.addEventListener("pagehide",s),this.pixelObserver=new zt(Jt.pixelApisFromGoals(this.goals)),this.pixelObserver.addEventListener(this.onPixelEvent.bind(this))}cleanup(){this.pixelObserver.destroy(),delete this.pixelObserver}onClickOrSubmit(t){Pt.N.alive(),this.goals.forEach((e=>{e.triggers.forEach((s=>{const r=s.filter.conditions.filter((t=>"click"===t.criteria||"form_submission"===t.criteria));0!==r.length&&(0,Dt.vS)(r,{operand:{event:t,goalId:e.id}})&&this.tracker.goalConversion(e.id,void 0,s.id)}))}))}onUrlVisit(){this.goals.forEach((t=>{t.triggers.forEach((e=>{const s=e.filter.conditions.filter((t=>"url_visit"===t.criteria));0!==s.length&&(0,Dt.vS)(s)&&this.tracker.goalConversion(t.id,void 0,e.id)}))}))}onPixelEvent(t){this.goals.forEach((e=>{e.triggers.forEach((s=>{const r=s.filter.conditions.filter((t=>"pixel_event"===t.criteria));0!==r.length&&(0,Dt.vS)(r,{operand:{event:t}})&&this.tracker.goalConversion(e.id,void 0,s.id)}))}))}static onActivity(){const t=+new Date;Jt.lastActive&&t-Jt.lastActive<=1e4||(Jt.lastActive=t,Pt.N.alive())}static pixelApisFromGoals(t){if(!CE2.Native.Array.isArray(t))return[];const e=new Set;return t.forEach((t=>{t.triggers.forEach((t=>{t.filter.conditions.forEach((t=>{"pixel_event"===t.criteria&&t.values.forEach((t=>{t.api&&e.add(t.api)}))}))}))})),CE2.Native.Array.from(e)}}var Zt=s(419),te=s(4212);const ee=function(){this.metrics={}};ee.prototype={start(t){this.metrics[t]=+new Date},stop(t){const e=this.metrics[t];if(!e)return void(0,F.f)(`No starting point for "${t}", ignoring.`);const s=+new Date-e;this.cancel(t),this.send(t,s)},cancel(t){delete this.metrics[t]},send(t,e){if(t.length>100)throw new Error("Key is too long (max 100)");if((e=Number(e,10))&&isNaN(e))throw new Error("Value is NaN");if(!CE2.site)return void(0,F.f)(`No site, skipping metric ${t}`);const s=[[(0,te.qR)(0,1),this.getTrackerValue("visitorID"),25,CE2.VERSION,+new Date,CE2.tabId],[this.getTrackerValue("visitID"),t,e||"",CE2.visitorTracker.getIdentification()]];(0,Zt.sendEvents)({userId:CE2.data.uid,siteId:CE2.site.id,snapshotId:this.getTrackerValue("snapshotId"),sessionId:this.getTrackerValue("sessionId"),pageFingerprintMd5:this.getTrackerValue("pageFingerprintMd5")},[s])},getTrackerValue(t){if(CE2.tracker)return CE2.tracker[t]}};const se=new ee;class re{constructor(t){this.tracker=t,this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload"))}trigger(t,e){if(t.length>100)throw new Error("Key is too long (max 100)");if((e=Number(e,10))&&isNaN(e))throw new Error("Value is NaN");const s=[this.tracker.visitID,t,e||""],r=this.tracker.newEvent(Pe.CUSTOM_PERFORMANCE,{attributes:s});this.tracker.send(r)}onUnload(){if(Object.keys(se.metrics).length)for(let t=0,e=Object.keys(se.metrics);t<e.length;t++){const s=e[t];this.trigger(s)}}}const ie=/[:@;%~='"\|\*\/\\\.\[\]\{\}\(\)]/g,ne=/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/;function oe(t){if(t instanceof DocumentFragment)return":scope";let e=[];const{id:s}=t;if(e.push(t.nodeName.toLowerCase()),s&&"string"==typeof s&&!/^\d/.test(s))e.push(`#${i=s,i.replace(ie,"\\$&").replace(/^\s+|\s+$/g,"")}`);else{const s=(r=t,[].slice.call(r.classList).filter((t=>t.match(ne))).map((t=>`.${t}`)).join(""));s&&e.push(s)}var r,i;if(e=e.join(""),1===t.parentNode.querySelectorAll(e).length)return e;const n=function(t){const{children:e}=t.parentNode;let s=0;for(let r=0;r<e.length;r++){const i=e[r];if(i.tagName===t.tagName&&s++,i===t)return s}}(t);return`${t.nodeName.toLowerCase()}:nth-of-type(${n})`}function ae(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function ce(t){const e=[],{body:s,documentElement:r}=t.ownerDocument;let i;if(t===s||t===r)return t.tagName.toLowerCase();if(t._ce_selector){const e=ae(t).querySelectorAll(t._ce_selector);if(1===e.length&&e[0]===t)return t._ce_selector}for(;t&&(e.unshift(oe(t)),i=ae(t).querySelectorAll(e.join(" > ")),1!==i.length);t=t.parentNode);return t._ce_selector=e.join(" > ")}class le{constructor(t){CE2BH.defineProperty(this,"mouseEventTypes",{movement:"m",mouseup:"u",mousedown:"d"}),this.tracker=t,this.mousePos=null,this.mousePositions=[],this.tracker.addEventListener("mousemove",W(this,"mousemove")),this.tracker.addEventListener("mouseup",W(this,"mouseup")),this.tracker.addEventListener("mousedown",W(this,"mousedown")),this.tracker.addSampleCallback(W(this,"sample")),this.tracker.addDiffCallback(W(this,"diff"))}cleanup(){}mousedown(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.mousedown);e&&(this.mousePos=e,this.sample())}mouseup(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.mouseup);e&&(this.mousePos=e,this.sample())}mousemove(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.movement);e&&(this.mousePos=e)}sample(){try{const{mousePos:t}=this;if(t){const e=this.mousePositions[this.mousePositions.length-1];if(e&&((t,e)=>{const s=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(s.length!=r.length)return!1;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i])return!1}return!0})(t.fingerprint,e.fingerprint)){const e=t.movements[0];this.mousePositions[this.mousePositions.length-1].movements.push(e)}else this.mousePositions.push(t);delete this.mousePos}}catch(t){(0,F.f)(t)}}diff(){try{if(this.mousePositions.length>0){const t=[];for(let e=0,s=this.mousePositions;e<s.length;e++){const r=s[e],i=[];for(let t=0,e=r.movements;t<e.length;t++){const s=e[t];let r;"m"===s.type?r=[s.relativeX,s.relativeY,s.timestamp,s.pageX,s.pageY,s.type]:"u"!==s.type&&"d"!==s.type||(r=[s.relativeX,s.relativeY,s.timestamp,s.pageX,s.pageY,s.type,s.button,s.clickType]),i.push(r)}const n=[...this.tracker.getFingerprintAttributes(r.fingerprint),r.movements.length,i,r.selector];t.push(n)}const e=[this.tracker.visitID,"v1",t],s=this.tracker.newEvent(Pe.MOUSE_MOVEMENT,{attributes:e});this.tracker.send(s),this.mousePositions=[]}}catch(t){(0,F.f)(t)}}buildMouseEvent(t,e){try{if(e===this.mouseEventTypes.mousedown||e===this.mouseEventTypes.mouseup){const{fp:s,selector:r}=this.lastPosition,i=CE2BH.extends({},this.lastPosition.movementData,{type:e,timestamp:+new Date}),n=this.tracker.eventHandlers.click.mouseButton(t);return i.button=n,"l"===n&&e===this.mouseEventTypes.mousedown&&(i.clickType=this.tracker.eventHandlers.click.getClickType(t)),{fingerprint:s,selector:r,movements:[i]}}const s=document.elementFromPoint(t.clientX,t.clientY);if(s&&s.getBoundingClientRect){const r=s.getBoundingClientRect(),i=this.tracker.getFingerprint(s),n=t.clientX-(r.x||r.left),o=t.clientY-(r.y||r.top),a=(n/r.width*100).toFixed(4),c=(o/r.height*100).toFixed(4),l=t.pageX||0,h=t.pageY||0,u={relativeX:a,relativeY:c,timestamp:+new Date,pageX:l,pageY:h,type:e},d=ce(s);return this.lastPosition={fp:i,movementData:u,selector:d},{fingerprint:i,selector:d,movements:[u]}}}catch(t){(0,F.f)(t)}}}function he(t){try{!t||t.isCensored||CE2.d.hidden||(t.ce||(t.ce={}),t.ce.imgScheduled||(t.ce.imgScheduled=!0,setTimeout((()=>{try{t.ce.imgScheduled=!1,t.toBlob((e=>{const s=new CE2.Native.URL(`/canvas-urls/${t.width}x${t.height}/${e.size}/${e.type&&e.type.replace("/",".")}`,CE2.d.baseURI).toString();t.ce.imgUrl=s,t.ce.blob=e,s!==t.getAttribute("ce-img-taken")&&t.setAttribute("ce-img-taken",s)}),"image/webp")}catch(t){(0,F.f)("error saving the canvas image",t)}}),1e3)))}catch(t){(0,F.f)("error saving the canvas image",t)}}function ue(t){he(t.canvas)}const de=[{type:CE2.w.CanvasRenderingContext2D,methods:["stroke","fillText","strokeText","fillRect","drawImage","clearRect","translate","transform","fill","clear","rect","strokeRect","putImageData"]}],pe={track(){this.overridden||(de.forEach((t=>{t.type&&t.methods&&t.methods.forEach((e=>{!function(t,e,s){const r=t.prototype[e];t.prototype[e]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.call(this,...i),s(this,e,...i)}}(t.type,e,ue)}))})),this.overridden=!0),CE2.d.querySelectorAll("canvas").forEach((t=>{he(t)}))}};class fe{constructor(t){this.tracker=t;try{CE2.hasFeature("v11_canvas_tracking")&&pe.track(),CE2.pageState.startCapture(this.captureOptions())}catch(t){this.tracker.pageStateError(t)}}update(t){if(this.prevState=null,t){CE2.pageState.stopCapture();try{CE2.pageState.startCapture(this.captureOptions())}catch(t){this.tracker.pageStateError(t)}}}cleanup(){CE2.pageState.stopCapture()}trigger(t,e,s,r,i,n){if(!this.prevState||this.prevState.pageUrl!==t||this.prevState.md5!==s){const o=[i||this.tracker.visitID,t,s,e,n],a=this.tracker.newEvent(Pe.PAGE_STATE,{timestamp:r,attributes:o});this.tracker.send(a,{timestamp:r}),this.prevState={pageUrl:t,md5:s}}}captureOptions(){const{tracker:t}=this;return{uid:CE2.data.uid,trackURL:t.trackURL,getVisitId:()=>t.visitID,getUrl:()=>t.url,onPageState:function(){return t.pageState(...arguments)},onPageStateError:function(){return t.pageStateError(...arguments)},censoredElements:t.censoredElements,hideIframes:t.hideIframes,disableMasking:!!CE2.data.disable_recordings_masking,disableEmailMasking:!!CE2.data.disable_recordings_email_masking,stylesheetPerformance:CE2.hasFeature("v11_page_state_performance")}}}const ge=["longtask","first-input","layout-shift","largest-contentful-paint"];class me{constructor(t){this.tracker=t,this.startTracking=W(this,"startTracking"),CE2.w.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&CE2.onDOMReady(this.startTracking)}startTracking(){const t=new PerformanceObserver(W(this,"observe"));for(let e=0;e<ge.length;e++){const s=ge[e];PerformanceObserver.supportedEntryTypes.indexOf(s)>=0&&t.observe({type:s,buffered:!0})}}observe(t){const e=!("visibilityState"in CE2.d)||"visible"===CE2.d.visibilityState;for(let s=0,r=t.getEntries();s<r.length;s++){const t=r[s];let i;const n=[this.tracker.visitID,t.name,t.startTime,t.duration];switch(t.entryType){case"longtask":i=[...n,t.attributes.containerType,t.attributes.containerSrc,t.attributes.containerId,t.attributes.containerName],this.sendEvent(Pe.LONG_TASK,i);break;case"first-input":i=[...n,t.processingStart-t.startTime],this.sendEvent(Pe.FIRST_INPUT_DELAY,i);break;case"layout-shift":i=[...n,1e3*t.value],e&&!t.hadRecentInput&&this.sendEvent(Pe.CUMULATIVE_LAYOUT_SHIFT,i);break;case"largest-contentful-paint":this.sendEvent(Pe.LARGEST_PAINT,n)}}}sendEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=this.tracker.newEvent(t,{attributes:e});this.tracker.send(s)}}const Ee="ce_visit_timings";class ve{constructor(t){var e;this.tracker=t,this.visitsTimings=CE2.Native.JSON.parse(sessionStorage.getItem(Ee)||"{}"),this.isReloadedVisit=null===(e=CE2.w.performance)||void 0===e?void 0:e.getEntriesByType("navigation").map((t=>t.type)).includes("reload"),this.update()}update(){const{pathname:t}=CE2.w.location;if(this.visitPath!==t){this.unload(),this.visitPath=t,this.currentVisit=this.visitsTimings[t];const e=+new Date;if(this.currentVisit){if(!this.isReloadedVisit&&this.currentVisit.endTime-e<2e4){const t=[this.tracker.visitID],e=this.tracker.newEvent(Pe.QUICKBACK,{attributes:t});this.tracker.send(e)}}else this.visitsTimings[t]={},this.currentVisit=this.visitsTimings[t];this.visitsTimings.startTime=e,this.isReloadedVisit=!1}}unload(){this.currentVisit&&(this.currentVisit.endTime=+new Date,sessionStorage.setItem(Ee,CE2.Native.JSON.stringify(this.visitsTimings)))}}class Ce{constructor(t){this.tracker=t,this.browserSizes=[],this.tracker.addSampleCallback(W(this,"sample")),this.tracker.addDiffCallback(W(this,"diff"))}sample(){try{const t=CE2.w,e=t.innerWidth||t.screen.availWidth,s=t.innerHeight||t.screen.availHeight,{lastBrowserSize:r}=this;if(r&&r[0]===e&&r[1]===s)return;if(j&&r&&r[0]===e&&r[1]!==s)return;this.lastBrowserSize=[e,s,+new Date],this.browserSizes.push(this.lastBrowserSize)}catch(t){(0,F.f)(t)}}diff(){try{if(this.browserSizes.length>0){const t=[this.tracker.visitID,this.browserSizes],e=this.tracker.newEvent(Pe.RESIZE,{attributes:t});this.tracker.send(e),this.browserSizes=[]}}catch(t){(0,F.f)(t)}}}class ye{constructor(t){this.tracker=t,this.scrollTracker=new At,this.trackScrollInterval=setInterval(W(this,"trackScroll"),100),this.foundAnchorBind=W(this,"foundAnchor")}cleanup(){clearInterval(this.trackScrollInterval),delete this.scrollTracker,delete this.foundAnchorBind}trackScroll(){const t=CE2.fp.scroll();this.scrollTracker.shouldRecordScroll(t)&&this.scrollTracker.findAnchor(t,this.foundAnchorBind)}foundAnchor(t,e){const s=t.top,r=t.height;let i,n,o;e&&(e=this.tracker.getElementToRecord(e),i=this.tracker.getFingerprint(e),n=t.top-i.pageY,o=t.top+t.height-i.pageY);const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(i),s,r,n,o],c=this.tracker.newEvent(Pe.SCROLL,{attributes:a});this.tracker.send(c)}}var ke=s(2786);class Te{constructor(t){this.tracker=t;const e=(0,ke.c)(t.site);isNaN(e)||(this.siteRatio=e)}trigger(){const t=CE2.isBot(!0);if((0,et.U6)("v11_disable_bot_detection")&&t&&(this.tracker.addTag("bot"),CE2.w.serverLog&&this.tracker.visitor&&this.tracker.session))try{CE2.w.serverLog({id:this.tracker.visitor.getId(),value:`sessionid:${this.tracker.session.id}, bot:${t}`})}catch(t){(0,F.f)(`error logging bot reason: ${t.message}`)}Object.keys(CE2.userData).length>0&&this.tracker.sendCustomUserData(),CE2.sessionTags.length>0&&this.tracker.addTag(CE2.sessionTags),CE2.appliedStrategy&&this.siteRatio&&this.sendSessionRatio()}sendSessionRatio(){const t=[this.siteRatio,CE2.appliedStrategy],e=this.tracker.newEvent(Pe.SESSION_RATIO,{attributes:t});this.tracker.send(e)}}class be{constructor(t){t===document?this.doc=t:(this.doc=t.shadowRoot,this.container=t),this.attachShadowListeners=[],this.patchAttachShadow(),this.onMutation=this._onMutation.bind(this),this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.doc,{subtree:!0,childList:!0}),this.subMonitors=this.findAllContainers().map((t=>new be(t))),this.listeners=[]}destroy(){this.mutationObserver&&this.mutationObserver.disconnect();for(let t=0,e=this.listeners;t<e.length;t++){const{event:s,callback:r,opt:i}=e[t];this.doc.removeEventListener(s,r,i)}for(let t=0,e=this.subMonitors;t<e.length;t++){e[t].destroy()}}findAllContainers(){return CE2.Native.Array.from(this.doc.querySelectorAll("*")).filter((t=>t.shadowRoot))}findMonitor(t){if(this.doc===t||this.doc.contains(t))return this;for(let e=0,s=this.subMonitors;e<s.length;e++){const r=s[e].findMonitor(t);if(r)return r}}attachShadow(t){const e=this.findMonitor(t);e&&e.addSubMonitor(t),this.attachShadowListeners.forEach((e=>{e(t)}))}onAttachShadow(t){this.attachShadowListeners.push(t)}_onMutation(t){for(let e=0;e<t.length;e++){const s=t[e];for(let t=0,e=s.addedNodes;t<e.length;t++){const s=e[t];s.nodeType===Node.ELEMENT_NODE&&s.shadowRoot&&this.addSubMonitor(s)}for(let t=0,e=s.removedNodes;t<e.length;t++){const s=e[t];s.nodeType===Node.ELEMENT_NODE&&s.shadowRoot&&this.removeSubMonitor(s)}}}patchAttachShadow(){if(be.patchedAttachShadow)return;const t=Element.prototype.attachShadow,e=this;Element.prototype.attachShadow=function(s){const r=t.call(this,s);return s&&"open"===s.mode&&e.attachShadow(this),r},be.patchedAttachShadow=!0}addSubMonitor(t){const e=new be(t);this.subMonitors.push(e);for(let t=0,s=this.listeners;t<s.length;t++){const r=s[t];e.addEventListener(r.event,r.callback,r.opt)}}removeSubMonitor(t){const e=K(this.subMonitors,(e=>e.container===t));e&&e.destroy()}addEventListener(t,e,s){this.listeners.push({event:t,callback:e,opt:s}),this.doc.addEventListener(t,e,s);for(let r=0,i=this.subMonitors;r<i.length;r++){i[r].addEventListener(t,e,s)}}removeEventListener(t,e,s){K(this.listeners,(r=>r.event===t&&r.callback===e&&r.opt===s)),this.doc.removeEventListener(t,e,s);for(let r=0,i=this.subMonitors;r<i.length;r++){i[r].removeEventListener(t,e,s)}}getComposedPath(t){const e=[];let s=t;for(;s;){if(e.push(s),s===document){e.push(window);break}if(s.parentNode)s=s.parentNode;else{const t=this.findMonitor(s);s=t&&t.container}}return e}}const we=new be(document);class Se{constructor(t){this.tracker=t,this.scrolls=[],this.calculateInitialScrolls(),this.tracker.addEventListener("scroll",W(this,"onScroll"),we),this.tracker.addDiffCallback(W(this,"diff"))}onScroll(t){this.tracker.onActivity();let e=t.target;e===CE2.d&&(e=CE2.d.scrollingElement);const s=t.composed&&t.composedPath();this.bufferScrollFor(e,s)}bufferScrollFor(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return[ce(t)];const s=[[]];for(let t=0;t<e.length;t++){const r=e[t];s[0].push(r),r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&s.unshift([])}return s.map((t=>ce(t[0])))}(t,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||we.getComposedPath(t)),s=this.scrollKey(e),r=this.scrolls.find((t=>this.scrollKey(t[0])===s)),i=Date.now(),n=this.recordScrollOfElement(t);if(r){const e=r[1],s=e[e.length-1];i-s[2]>this.tracker.SAMPLE_INTERVAL?e.push(n):(s[0]=t.scrollTop,s[1]=t.scrollLeft)}else this.scrolls.push([e,[n]])}recordScrollOfElement(t){return[t.scrollTop,t.scrollLeft,+new Date]}diff(){try{if(this.scrolls.length>0){const t=[this.tracker.visitID,this.scrolls],e=this.tracker.newEvent(Pe.SESSION_SCROLL,{attributes:t});this.tracker.send(e),this.scrolls=[]}}catch(t){(0,F.f)(t)}}scrollKey(t){return t.join("→")}calculateInitialScrolls(){const t=CE2.d.querySelectorAll("html, body, body *");for(let e=0;e<t.length;e++){const s=t[e];(s.scrollTop||s.scrollLeft)&&this.scrolls.push([[ce(s)],[this.recordScrollOfElement(s)]])}this.diff()}}class _e{constructor(t){CE2BH.defineProperty(this,"LIMIT_BETWEEN_TYPE_EVENTS",6e4),this.tracker=t,this.tracker.addEventListener("keydown",W(this,"onKeydown"))}update(){delete this.formEntry}onKeydown(t){this.tracker.onActivity();const e=t.target,s=+new Date;if((0,tt.Ku)(e,"input, [contenteditable]")&&("INPUT"!==e.tagName||!["submit","reset","button"].some((t=>t===e.type&&e.type.toLowerCase())))&&(this.lastTypedElement!==e||this.lastTypedTime-s>this.LIMIT_BETWEEN_TYPE_EVENTS)){const t=(0,tt.Ku)(e,"form *"),r=[this.tracker.visitID,t],i=this.tracker.newEvent(Pe.TYPING,{attributes:r});this.tracker.send(i),t&&(this.formEntry=s)}this.lastTypedElement=e,this.lastTypedTime=e}}class Ae{constructor(t){this.tracker=t,this.tracker.addEventListener("visibilitychange",W(this,"onVisibilitychange"))}onVisibilitychange(){const t=!document.hidden;if(this.tracker.isDocumentHiddenOnce||(this.tracker.isDocumentHiddenOnce=document.hidden),this.pageVisibility!==t){this.pageVisibility=t;const e=[this.tracker.visitID,t],s=this.tracker.newEvent(Pe.PAGE_VISIBILITY,{attributes:e});this.tracker.send(s),this.tracker.processBuffer({sendBeacon:!0})}}}s(15);class Ie{constructor(t){this.tracker=t}trigger(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{snapshotOnly:e}=t,s=CE2.d,r=CE2.w;let i=0;!e&&this.tracker.session&&(i=this.tracker.session.numberVisits(),this.tracker.virtual?i-=1:(i<0&&(i=0),i+=1));const n=[s.referrer,this.tracker.visitor.isReturning(),r.screen.width,r.screen.height,r.innerWidth||s.documentElement.clientWidth,r.innerHeight||s.documentElement.clientHeight,(0,tt.Eg)(),this.tracker.url,i,this.tracker.visitor.getNumVisits(),this.tracker.masked,this.tracker.pageFingerprint,this.tracker.visitorIdentification],o=this.tracker.newEvent(Pe.VISIT,{eventID:this.tracker.visitID,attributes:n});this.tracker.session&&this.tracker.session.setNumberVisits(i),e?this.tracker.sendImmediatelly(o,{flow:"s"}):this.tracker.send(o),this.tracker.virtual||!this.tracker.snapshotId&&!this.tracker.session||this.triggerPerformance(t)}triggerPerformance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{snapshotOnly:e}=t,s=CE2.w;this.performanceObserver&&(this.performanceObserver.disconnect(),delete this.performanceObserver),this.performanceEvents={},s.performance&&s.performance.getEntriesByType&&(this.handlePerformanceEntries(s.performance.getEntriesByType("navigation"),e),this.handlePerformanceEntries(s.performance.getEntriesByType("paint"),e),"undefined"!=typeof PerformanceObserver&&(this.performanceObserver=new PerformanceObserver((t=>{this.handlePerformanceEntries(t.getEntries(),e)})),this.performanceObserver.observe({entryTypes:["navigation","paint"]})))}handlePerformanceEntries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tracker.isDocumentHiddenOnce||t.forEach((t=>{"navigation"===t.entryType?(t.domContentLoadedEventStart&&this.sendPerformance(Pe.DOM_CONTENT_LOADED,t.domContentLoadedEventStart,e),t.domInteractive&&this.sendPerformance(Pe.DOM_INTERACTIVE,t.domInteractive,e),t.loadEventStart&&this.sendPerformance(Pe.PAGE_LOAD,t.loadEventStart,e)):"first-contentful-paint"===t.name&&this.sendPerformance(Pe.FIRST_CONTENTFUL_PAINT,t.startTime,e)}))}sendPerformance(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.performanceEvents[t]){const r=[this.tracker.visitID,e],i=this.tracker.newEvent(t,{attributes:r});s?this.tracker.sendImmediatelly(i,{flow:"s"}):this.tracker.send(i),this.performanceEvents[t]=!0}}}CE2.ASSET_COLLECTOR_IGNORE_DOMAINS=["bat.bing.com","www.facebook.com/tr","www.google.","www.google-analytics.","ssl.google-analytics.","www.googletagmanager.","googleads.g","sp.analytics.yahoo.","heapanalytics.com","dev.visualwebsiteoptimizer.","b.6sc.co","hn.inspectlet.","d.adroll.","secure.adnxs.","match.adsrvr.","ads.travelaudience.","www.linkconnector.","px.ads.linkedin.","cdn.bizible.","ih.adscale.","rtb-csync.smartadserver.","x.bidswitch.net/sync","ad.doubleclick."];const Oe={3:"Crazy Egg Bot",2:"Crazy Egg Bot (Mobile)",1:"Crazy Egg Bot"};class Ne{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){this.storageKey=t;const e=sessionStorage.getItem(this.storageKey);e&&(this.queue=CE2.Native.JSON.parse(e))}this.queue||(this.queue=[])}push(t){const e=[];for(let s=0;s<t.length;s++){const r=t[s];if(!r||!r.url)continue;const i=this.queue.findIndex((t=>t.url===r.url));if(i>=0)this.queue[i]=r;else{e.findIndex((t=>t.url===r.url))<0&&e.push(r)}}e.length&&(this.queue=this.queue.concat(e)),this.updateStorage()}fetch(t){const e=this.queue.splice(0,t);return this.updateStorage(),e}include(t){return this.queue.findIndex((e=>e.url===t))>-1}length(){return this.queue.length}updateStorage(){this.storageKey&&sessionStorage.setItem(this.storageKey,CE2.Native.JSON.stringify(this.queue))}}class Re{constructor(t){this.tracker=t,this.OBSERVER_CACHE_KEY="ce_asset",this.LOCAL_CACHE_ASSET_MAX_SIZE=5e3,this.LOCAL_ASSET_OBSERVER_CACHE_KEY="ce_local_asset_cache",this.WAITING_QUEUE_KEY="ce_asset_waiting",this.SAMPLE_INTERVAL="undefined"==typeof CE_ASSET_COLLECTOR_INTERVAL?1e4:CE_ASSET_COLLECTOR_INTERVAL,this.URL_REGEX=/url\(["'](.+?)["']\)/,this.BATCH_SIZE=20;const e=new Set;for(let t=0,s=CE2.ASSET_COLLECTOR_IGNORE_DOMAINS;t<s.length;t++){const r=s[t];e.add(r)}for(let t=0,s=CE2.data.asset_collector_ignore||[];t<s.length;t++){const r=s[t];e.add(r)}this.IGNORE_DOMAINS=[],e.forEach((t=>{this.IGNORE_DOMAINS.push(t)}))}setup(){this.uri=new CE2.URL(CE2.w.location.toString()),this.setupObserverCache(),this.setupWorker(),this.schedulePerformanceObserver(),this.scheduleDataAndBlobCollection(1e3),this.collectCanvasImages()}cleanup(){this.performanceObserver&&(this.performanceObserver.disconnect(),delete this.performanceObserver),this.collectAssetsTimeout&&clearTimeout(this.collectAssetsTimeout),this.collectCanvasImagesTimeout&&clearTimeout(this.collectCanvasImagesTimeout),this.worker&&this.worker.terminate()}setupObserverCache(){const t=sessionStorage.getItem(this.LOCAL_ASSET_OBSERVER_CACHE_KEY);this.observerCache=t?new Ct(CE2.Native.JSON.parse(t)):new Ct}addObserverCache(t){if(t&&t.length){for(let e=0;e<t.length;e++){const s=t[e];this.observerCache.add(s.cacheKey)}sessionStorage.setItem(this.LOCAL_ASSET_OBSERVER_CACHE_KEY,CE2.Native.JSON.stringify(this.observerCache.items().slice(0,this.LOCAL_CACHE_ASSET_MAX_SIZE)))}}checkObserverCache(t){return this.observerCache.test(t)}collectCanvasImages(){const t=[];let e;for(let s=0,r=CE2.d.querySelectorAll("canvas[ce-img-taken]");s<r.length;s++){const i=r[s],{ce:n}=i;if(n&&n.imgUrl&&n.blob){const{blob:s,imgUrl:r}=n;e=this.prepareAsset(r,{source:"canvas"}),e&&(e.data=s,e.contentType=s.type,e.contentLength=s.size,t.push(e)),delete i.ce.blob}}this.queueForWorker(t),this.collectCanvasImagesTimeout=setTimeout(W(this,"collectCanvasImages"),500)}collectDataAndBlobAssets(){const t=[];let e;if(CE2.d.images)for(let s=0,r=CE2.d.images;s<r.length;s++){const i=r[s],n=i.currentSrc||i.src;this.isBlobOrDataUrl(n)&&(e=this.prepareAsset(n,{source:"images"}),e&&t.push(e))}if(CE2.d.styleSheets)for(let s=0,r=CE2.d.styleSheets;s<r.length;s++){const i=r[s];this.isBlobOrDataUrl(i.href)&&(e=this.prepareAsset(i.href,{source:"stylesheets"}),e&&t.push(e))}this.queueForWorker(t),this.scheduleDataAndBlobCollection(this.SAMPLE_INTERVAL)}schedulePerformanceObserver(){const t=CE2.w;t.performance&&t.performance.getEntriesByType&&(this.handlePerformanceEntries(t.performance.getEntriesByType("resource")),"undefined"!=typeof PerformanceObserver&&(this.performanceObserver=new PerformanceObserver((t=>{this.handlePerformanceEntries(t.getEntries())})),this.performanceObserver.observe({entryTypes:["resource"]})))}scheduleDataAndBlobCollection(t){this.collectAssetsTimeout=setTimeout(W(this,"collectDataAndBlobAssets"),t)}handlePerformanceEntries(t){const e=[];let s;const r=[];let i=!1;for(let n=0;n<t.length;n++){const o=t[n];let a=!1;"img"!==o.initiatorType&&"css"!==o.initiatorType||(a=!0);try{new URL(o.name).pathname.endsWith(".ttf")&&(a=!0)}catch(t){CE2.debug(t)}"link"!==o.initiatorType&&"other"!==o.initiatorType||(i||([document.querySelectorAll("link[rel=stylesheet]"),document.querySelectorAll("link[rel~=preload][as=style]"),document.querySelectorAll("link[rel~=preload][as=font]"),document.querySelectorAll("link[rel~=preload][as=image]")].forEach((t=>t.forEach((t=>r.push(t.href))))),i=!0),r.includes(o.name)&&(a=!0)),a&&(s=this.prepareAsset(o.name,{source:"network"}),s&&e.push(s))}this.queueForWorker(e)}setupWorker(){if(!this.worker){if(this.workerQueue=new Ne,this.workerWaitingQueue=new Ne(this.WAITING_QUEUE_KEY),this.worker=(0,tt.l1)((t=>{const{assets:e,session:s,uid:r,origin:i,trackURL:n,tracking_key:o,userAgent:a}=t.data,c={session:s,uid:r,origin:i,assets:[],userAgent:a};for(let t=0;t<e.length;t++){const s=e[t],r={url:s.url};s.data&&(r.contentType=s.contentType,r.contentLength=s.contentLength,r.contentEncoding="gzip",s.contentType&&s.contentType.indexOf("text/css")>-1?r.digest=CE2libs.md5(s.data):r.digest=CE2libs.md5((new FileReaderSync).readAsText(s.data.slice(0,8e3)))),c.assets.push(r)}CE2.http.send(`${n}/assets?tk=${o}`,JSON.stringify(c),{contentType:"application/json",retry:5,callback:t=>{let s;if(200===t.status)s=JSON.parse(t.responseText);else{if(204!==t.status)return void postMessage({status:t.status,assets:e});s=[]}for(let t=0;t<e.length;t++){const r=e[t],i=s.find((t=>r.url===t.url));i?(r.status=i.status,r.s3=i.s3):(r.status=2,r.timestampEnd=+new Date,r.collector="s")}CE2.promisePool(e,2,(t=>new Promise((e=>{if(t.s3){const s=new CE2.FormData;for(let e=0,r=Object.keys(t.s3.fields);e<r.length;e++){const i=r[e];s.append(i,t.s3.fields[i])}let r=t.data;t.data instanceof Blob&&(r=new Uint8Array((new FileReaderSync).readAsArrayBuffer(r))),s.append("file",CE2libs.compress(r)),CE2.http.send(t.s3.url,s,{retry:5,callback:()=>{t.status=2,t.timestampEnd=+new Date,t.collector="c",e(t)}})}else e(t)})))).then((()=>{postMessage({status:"ok",assets:e})})).catch((t=>{CE2.debug(t)}))}})}),!0),!this.worker)return;this.worker.onmessage=t=>{const e=[],s=[],r=[];"ok"!==t.data.status&&CE2.debug(`Assets api unavailable - ${t.data.status}`);for(let i=0,n=t.data.assets;i<n.length;i++){const t=n[i];1===t.status?(void 0===t.waiting?t.waiting=0:t.waiting+=1,e.push(t)):3===t.status||4===t.status&&CE2.data.recordings_2_cors_collect?(t.corsSafe=!0,s.push(t)):r.push(t)}e.length&&this.workerWaitingQueue.push(e),this.addObserverCache(s),this.addObserverCache(r),this.sendEvent(t.data.assets),s.length?this.runWorker(s):this.workerQueue.length()>0?this.runWorker():setTimeout(W(this,"runWorker"),this.SAMPLE_INTERVAL)},this.runWorker()}}queueForWorker(t){t.length&&this.workerQueue.push(t)}runWorker(t){let e=t;e&&e.length||(e=this.workerQueue.fetch(this.BATCH_SIZE),e.length||(e=this.workerWaitingQueue.fetch(this.BATCH_SIZE))),e.length?this.fetchAssetsData(e).then((t=>{this.worker.postMessage({assets:t,session:this.tracker.session.id,uid:CE2.data.uid,origin:`${CE2.w.location.protocol}//${CE2.w.location.host}`,trackURL:this.tracker.trackURL,tracking_key:CE2.data.tracking_key,userAgent:CE2.data.explicit_agent&&Oe[CE2.clock.getDeviceType()]||""})})).catch((t=>{CE2.debug(t)})):setTimeout(W(this,"runWorker"),this.SAMPLE_INTERVAL)}isBlobUrl(t){return 0===t.indexOf("blob:")}fetchAssetsData(t){return new Promise((e=>{CE2.promisePool(t,2,(t=>new Promise((e=>{if(!t.data&&t.corsSafe){let s=t.originalUrl;if(!t.local){const t=new CE2.URL(s);t.query=t.query&&t.query.length?`${t.query}&`:"",t.query+="ce=true",s=t.getFullUrl()}try{CE2.http.get(s,(s=>{200===s.status&&s.response?(t.data=s.response,t.contentType=s.getResponseHeader("Content-Type"),t.contentLength=s.response.size?s.response.size:parseInt(s.getResponseHeader("Content-Length"),10)):t.failed=!0,e(t)}),"blob")}catch(s){t.failed=!0,e(t)}}else e(t)})))).then((t=>{const s=[],r=[];for(let e=0;e<t.length;e++){const i=t[e];i.failed||i.local&&!i.data?r.push(i):s.push(i)}this.addObserverCache(r),e(s)}))}))}localUrl(t){return!!this.isBlobUrl(t)||this.uri.sameOrigin(t)}prepareAsset(t,e){const s={originalUrl:t,source:e.source,timestamp:+new Date},r=new CE2.URL(e.baseUrl||CE2.d.baseURI);if(!t||"images"!==s.source&&0===t.indexOf("data:"))return;if(this.IGNORE_DOMAINS)for(let e=0,s=this.IGNORE_DOMAINS;e<s.length;e++){const r=s[e];if(t.indexOf(r)>=0)return}let i=t;this.isBlobUrl(t)&&(i=t.replace("blob:","")),0===t.indexOf("data:")&&(i=`${CE2.w.location.protocol}//${CE2.w.location.host}/data-urls/${t.length}`),0===i.indexOf("//")&&(i=`${r.protocol}:${i}`);let n=new CE2.URL(i);n.host||(n=r.join(n)),n.normalize();const o=n.getFullUrl();return"http"!==n.protocol&&"https"!==n.protocol||this.checkObserverCache(o)||this.workerWaitingQueue.include(o)?void 0:(s.url=n.getFullUrl(),s.cacheKey=o,this.localUrl(s.url)&&(s.local=!0,s.corsSafe=!0),s)}isBlobOrDataUrl(t){return t&&(t.indexOf("blob:")>=0||t.indexOf("data:")>=0)}sendEvent(t){const e=[];for(let s=0;s<t.length;s++){const r=t[s];if(1===r.status&&r.waiting>0)continue;const i=[r.url,r.status,r.timestamp];r.timestampEnd&&(i.push(r.timestampEnd),i.push(r.collector)),e.push(i)}if(!e.length)return;const s=[this.tracker.visitID,e],r=this.tracker.newEvent(Pe.ASSETS,{attributes:s});this.tracker.send(r)}}const Le={RAGE:"r",AUTH_BUTTON:"a",NOT_CLICKABLE:"d"},Pe={VISIT:1,CLICK:2,SCROLL:3,MOUSE_MOVEMENT:4,PAGE_STATE:5,RESIZE:6,SESSION_SCROLL:7,ERROR:8,PAGE_LOAD:9,INACTIVE:10,TYPING:11,CUSTOM:12,PAGE_VISIBILITY:13,DOM_CONTENT_LOADED:14,FIRST_CONTENTFUL_PAINT:15,DOM_INTERACTIVE:16,IDENTIFY:17,CUSTOM_USER_DATA:18,TAG:19,SESSION_RATIO:20,VALID_SESSION:21,END_SESSION:22,ECOMMERCE:23,FORM:24,CUSTOM_PERFORMANCE:25,GOAL_CONVERSION:26,ASSETS:27,SURVEY_RESPONSE:28,EXCESSIVE_SCROLL:29,LONG_TASK:30,FIRST_INPUT_DELAY:31,CUMULATIVE_LAYOUT_SHIFT:32,LARGEST_PAINT:33,QUICKBACK:34,SESSION_WORTH:35,DAILY_VISIT:36,DAILY_VISIT_COUNTER:37,ADDON_CLICK:38,PAGE_VIEW:39,AB_TEST_VIEW:40,AB_TEST_CONVERSION:41};class De extends Z.f{constructor(t,e,s,r,i,n,o){super(...arguments),CE2BH.defineProperty(this,"DIFF_INTERVAL",750),CE2BH.defineProperty(this,"SAMPLE_INTERVAL",100),this.snapshotId=s,r&&(this.session=r,this.sessionId=r.id),this.censoredElements=i,this.hideIframes=n&&n.recordingSettings&&n.recordingSettings.hideIframes,this.formatVersion=t,this.version=e,this.clickCaptors=CE2.state.clickCaptors.concat([...CE2.d.body.getElementsByClassName("-ce-capture")]),this.site=n||{},this.goals=o,this.masked=!1,this.sampleCallbacks=[],this.diffCallbacks=[],this.cookies={lastSession:"v11ls"};var a;(CE2.cookieStorage.get(this.cookies.lastSession)!==(this.session&&this.session.id)&&this.resetSessionTracking(),this.session&&this.setupSDAT(),this.session&&this.site.recordingSettings&&(0,tt.Ad)(this.site.recordingSettings.blockedRules)&&((0,F.f)("Session page masked"),this.masked=!0),this.setupEventHandlers(),this.isDocumentHiddenOnce=document.hidden,this.eventHandlers.visit&&this.eventHandlers.visit.trigger(),this.eventHandlers.goals&&this.eventHandlers.goals.onUrlVisit(),this.session&&this.session.id?(this.eventHandlers.sessionmetadata.trigger(),this.assetsTracker=new Re(this),this.assetsTracker.setup(),this.session.isNew&&this.session.store(),"function"==typeof CE_SESSION_READY&&CE_SESSION_READY(this.session)):this.session&&!this.session.id&&(0,F.f)("[Tracker] Session ID not initialized"),this.session)&&(null===(a=CE2.virtualTracker)||void 0===a||a.sendStoredEvents());this.processBuffer({scheduleTimeout:!0})}resetSessionTracking(){this.session&&this.session.id&&CE2.cookieStorage.set(this.cookies.lastSession,this.session.id)}update(t,e,s,r){this.eventHandlers.error&&this.eventHandlers.error.flush(),this.processBuffer();let i=!1;this.snapshotId!=t&&(i=!0),this.snapshotId=t,this.formatVersion=e;const n=s&&this.session.id!==s.id;var o;s&&(this.session=s,this.sessionId=s.id,null===(o=CE2.virtualTracker)||void 0===o||o.sendStoredEvents());if(r){this.url=window.location.href,this.setVisitIDs(),this.setupSDAT();for(const t in this.eventHandlers)if(Object.prototype.hasOwnProperty.call(this.eventHandlers,t)){const e=this.eventHandlers[t];e.update&&e.update(n)}this.eventHandlers.visit&&this.eventHandlers.visit.trigger(),this.eventHandlers.goals&&this.eventHandlers.goals.onUrlVisit()}else i&&t&&this.eventHandlers.visit.trigger({snapshotOnly:!0})}onActivity(){this.session&&this.eventHandlers.activity&&this.eventHandlers.activity.trigger()}notifyError(t){this.session&&this.eventHandlers.error&&this.eventHandlers.error.onError(t)}setupSDAT(){delete this.pageFingerprint,delete this.pageFingerprintMd5,this.session&&CE2.w.CE_URL_FINGERPRINT&&(this.pageFingerprint=CE2.w.CE_URL_FINGERPRINT(),this.pageFingerprint&&(this.pageFingerprintMd5=(0,st.F)(this.pageFingerprint)))}setupEventHandlers(){this.setupPageHideHandler(),(this.snapshotId||this.session)&&(this.eventHandlers.visit=new Ie(this),this.eventHandlers.click=new it(this),this.eventHandlers.excessiveScrolls=new It(this),this.eventHandlers.performance=new me(this)),(this.snapshotId||this.session)&&(this.eventHandlers.scroll=new ye(this),this.eventHandlers.metric=new re(this)),this.session&&(this.eventHandlers.sessionscroll=new Se(this),this.eventHandlers.sessionmetadata=new Te(this),this.eventHandlers.mousemovement=new le(this),this.eventHandlers.resize=new Ce(this),this.eventHandlers.activity=new rt(this),(0,et.U6)("hide-errors")||(this.eventHandlers.error=new yt(this)),this.eventHandlers.quickback=new ve(this),lt&&(this.eventHandlers.ecommerce=new lt(this)),this.eventHandlers.form=new Lt(this),this.masked||(this.eventHandlers.pageState=new fe(this),this.eventHandlers.typing=new _e(this),this.eventHandlers.visibility=new Ae(this)),this.runSampleCallbacks(),this.runDiffCallbacks()),this.addEventListener(CE2.opera?"unload":"beforeunload",W(this,"onUnload")),this.goals&&(this.eventHandlers.goals=new Jt(this))}addSampleCallback(t){this.sampleCallbacks.push(t)}addDiffCallback(t){this.diffCallbacks.push(t)}runSampleCallbacks(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.runSampleCallbacksBind)for(let t=0,e=this.sampleCallbacks;t<e.length;t++){(0,e[t])()}else this.runSampleCallbacksBind=W(this,"runSampleCallbacks");t&&(this.sampleTimeout=setTimeout(this.runSampleCallbacksBind,this.SAMPLE_INTERVAL))}runDiffCallbacks(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.runDiffCallbacksBind)for(let t=0,e=this.diffCallbacks;t<e.length;t++){(0,e[t])()}else this.runDiffCallbacksBind=W(this,"runDiffCallbacks");t&&(this.diffTimeout=setTimeout(this.runDiffCallbacksBind,this.DIFF_INTERVAL))}cleanup(){this.eventHandlers.error&&this.eventHandlers.error.flush(),this.processBuffer(),this.bufferQueueTimeout&&clearTimeout(this.bufferQueueTimeout),this.session&&(clearTimeout(this.sampleTimeout),clearTimeout(this.diffTimeout),this.assetsTracker&&this.assetsTracker.cleanup());for(const t in this.eventHandlers)if(Object.prototype.hasOwnProperty.call(this.eventHandlers,t)){const e=this.eventHandlers[t];e.cleanup&&e.cleanup()}for(let t=0,e=this.eventsTargets.keys();t<e.length;t++){const s=e[t];for(let t=0,e=this.eventsTargets.get(s).keys();t<e.length;t++){const r=e[t];CE2.removeListener(s,r,this.eventsTargets.get(s).get(r).handler)}}delete this.eventsTargets}pageState(t,e,s,r,i,n){this.eventHandlers.pageState&&this.eventHandlers.pageState.trigger(t,e,s,r,i,n)}pageStateErrorCallback(t){try{(0,F.f)("Page state error",t),"function"==typeof CE_PAGE_STATE_ERROR&&window.CE_PAGE_STATE_ERROR(CE2.data.uid,this.session.id,t)}catch(t){(0,F.f)(`Page State Error callback failure: ${t}`)}}pageStateError(t){this.pageStateErrorCallback(t)}getElementToRecord(t){let e;return(e=X(this.clickCaptors,t))&&(t=e),t.ownerSVGElement&&(t=t.ownerSVGElement),t}customEvent(t,e){const s=[this.visitID,t,e],r=this.newEvent(Pe.CUSTOM,{attributes:s});this.send(r)}getFingerprint(t){return new CE2.fp.fingerprint2(t,{formatVersion:this.formatVersion})}send(t){if(this.resetting)return;const e=this.session&&this.session.isExpired();if(e)return this.stopTracker(`Session expired - ${e}`);this.bufferQueue.push(t)}stopTracker(t){if(this.resetting)return;this.resetting=!0;const e=`Stopping: ${t}`;(0,F.f)(`[Tracker] ${e}`),this.session.reset(e),CE2.resetTracker()}onPageHide(){this.onActivity(),this.session&&this.runDiffCallbacks(!1),this.eventHandlers.error&&this.eventHandlers.error.flush(!0),this.processBuffer({sendBeacon:!0})}onUnload(){var t;this.session&&((0,F.f)("[Tracker] Sending end event"),this.send(this.newEvent(Pe.END_SESSION)),this.session.end()),null===(t=this.eventHandlers.quickback)||void 0===t||t.unload(),this.eventHandlers.error&&this.eventHandlers.error.flush(!0),this.processBuffer({sendBeacon:!0})}rageClick(){this.eventHandlers.error&&this.eventHandlers.error.assignAttribute("rageClicked")}getFingerprintAttributes(t){return t||(t={}),[t.type,t.elders,t.youngerSiblings,t.descendants,t.left,t.top,t.width,t.height,t.name]}}CE2BH.defineProperty(De,"eventTypes",Pe);var Me=s(7661);const xe=["input:not([type])",'input[type=""]',"input[type=text]","input[type=hidden]","input[type=password]","input[type=email]","input[type=number]","input[type=tel]","input[type=range]","textarea","[contenteditable=true]",'[contenteditable=""]'];function Be(t){if(CE2.data.disable_recordings_masking)return;let e=[];if((0,Me.hasFeature)("v11_disable_default_masking")||(e=xe.slice(0),CE2.w.google&&e.push(".pac-container")),t.recordingSettings&&t.recordingSettings.maskElements){const s=CE2.Native.JSON.parse(t.recordingSettings.maskElements);for(let t=0;t<s.length;t++){const r=s[t];e.push(r.selector)}}return e}var He=Uint8Array,Ue=Uint16Array,Ve=Uint32Array,Fe=new He([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$e=new He([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qe=new He([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ge=function(t,e){for(var s=new Ue(31),r=0;r<31;++r)s[r]=e+=1<<t[r-1];var i=new Ve(s[30]);for(r=1;r<30;++r)for(var n=s[r];n<s[r+1];++n)i[n]=n-s[r]<<5|r;return[s,i]},Ke=Ge(Fe,2),je=Ke[0],We=Ke[1];je[28]=258,We[258]=28;for(var Ye=Ge($e,0),Xe=(Ye[0],Ye[1]),Qe=new Ue(32768),ze=0;ze<32768;++ze){var Je=(43690&ze)>>>1|(21845&ze)<<1;Je=(61680&(Je=(52428&Je)>>>2|(13107&Je)<<2))>>>4|(3855&Je)<<4,Qe[ze]=((65280&Je)>>>8|(255&Je)<<8)>>>1}var Ze=function(t,e,s){for(var r=t.length,i=0,n=new Ue(e);i<r;++i)t[i]&&++n[t[i]-1];var o,a=new Ue(e);for(i=0;i<e;++i)a[i]=a[i-1]+n[i-1]<<1;if(s){o=new Ue(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],h=e-t[i],u=a[t[i]-1]++<<h,d=u|(1<<h)-1;u<=d;++u)o[Qe[u]>>>c]=l}else for(o=new Ue(r),i=0;i<r;++i)t[i]&&(o[i]=Qe[a[t[i]-1]++]>>>15-t[i]);return o},ts=new He(288);for(ze=0;ze<144;++ze)ts[ze]=8;for(ze=144;ze<256;++ze)ts[ze]=9;for(ze=256;ze<280;++ze)ts[ze]=7;for(ze=280;ze<288;++ze)ts[ze]=8;var es=new He(32);for(ze=0;ze<32;++ze)es[ze]=5;var ss=Ze(ts,9,0),rs=Ze(es,5,0),is=function(t){return(t+7)/8|0},ns=function(t,e,s){(null==e||e<0)&&(e=0),(null==s||s>t.length)&&(s=t.length);var r=new(2==t.BYTES_PER_ELEMENT?Ue:4==t.BYTES_PER_ELEMENT?Ve:He)(s-e);return r.set(t.subarray(e,s)),r},os=function(t,e,s){s<<=7&e;var r=e/8|0;t[r]|=s,t[r+1]|=s>>>8},as=function(t,e,s){s<<=7&e;var r=e/8|0;t[r]|=s,t[r+1]|=s>>>8,t[r+2]|=s>>>16},cs=function(t,e){for(var s=[],r=0;r<t.length;++r)t[r]&&s.push({s:r,f:t[r]});var i=s.length,n=s.slice();if(!i)return[gs,0];if(1==i){var o=new He(s[0].s+1);return o[s[0].s]=1,[o,1]}s.sort((function(t,e){return t.f-e.f})),s.push({s:-1,f:25001});var a=s[0],c=s[1],l=0,h=1,u=2;for(s[0]={s:-1,f:a.f+c.f,l:a,r:c};h!=i-1;)a=s[s[l].f<s[u].f?l++:u++],c=s[l!=h&&s[l].f<s[u].f?l++:u++],s[h++]={s:-1,f:a.f+c.f,l:a,r:c};var d=n[0].s;for(r=1;r<i;++r)n[r].s>d&&(d=n[r].s);var p=new Ue(d+1),f=ls(s[h-1],p,0);if(f>e){r=0;var g=0,m=f-e,E=1<<m;for(n.sort((function(t,e){return p[e.s]-p[t.s]||t.f-e.f}));r<i;++r){var v=n[r].s;if(!(p[v]>e))break;g+=E-(1<<f-p[v]),p[v]=e}for(g>>>=m;g>0;){var C=n[r].s;p[C]<e?g-=1<<e-p[C]++-1:++r}for(;r>=0&&g;--r){var y=n[r].s;p[y]==e&&(--p[y],++g)}f=e}return[new He(p),f]},ls=function(t,e,s){return-1==t.s?Math.max(ls(t.l,e,s+1),ls(t.r,e,s+1)):e[t.s]=s},hs=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new Ue(++e),r=0,i=t[0],n=1,o=function(t){s[r++]=t},a=1;a<=e;++a)if(t[a]==i&&a!=e)++n;else{if(!i&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(i),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(i);n=1,i=t[a]}return[s.subarray(0,r),e]},us=function(t,e){for(var s=0,r=0;r<e.length;++r)s+=t[r]*e[r];return s},ds=function(t,e,s){var r=s.length,i=is(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var n=0;n<r;++n)t[i+n+4]=s[n];return 8*(i+4+r)},ps=function(t,e,s,r,i,n,o,a,c,l,h){os(e,h++,s),++i[256];for(var u=cs(i,15),d=u[0],p=u[1],f=cs(n,15),g=f[0],m=f[1],E=hs(d),v=E[0],C=E[1],y=hs(g),k=y[0],T=y[1],b=new Ue(19),w=0;w<v.length;++w)b[31&v[w]]++;for(w=0;w<k.length;++w)b[31&k[w]]++;for(var S=cs(b,7),_=S[0],A=S[1],I=19;I>4&&!_[qe[I-1]];--I);var O,N,R,L,P=l+5<<3,D=us(i,ts)+us(n,es)+o,M=us(i,d)+us(n,g)+o+14+3*I+us(b,_)+(2*b[16]+3*b[17]+7*b[18]);if(P<=D&&P<=M)return ds(e,h,t.subarray(c,c+l));if(os(e,h,1+(M<D)),h+=2,M<D){O=Ze(d,p,0),N=d,R=Ze(g,m,0),L=g;var x=Ze(_,A,0);os(e,h,C-257),os(e,h+5,T-1),os(e,h+10,I-4),h+=14;for(w=0;w<I;++w)os(e,h+3*w,_[qe[w]]);h+=3*I;for(var B=[v,k],H=0;H<2;++H){var U=B[H];for(w=0;w<U.length;++w){var V=31&U[w];os(e,h,x[V]),h+=_[V],V>15&&(os(e,h,U[w]>>>5&127),h+=U[w]>>>12)}}}else O=ss,N=ts,R=rs,L=es;for(w=0;w<a;++w)if(r[w]>255){V=r[w]>>>18&31;as(e,h,O[V+257]),h+=N[V+257],V>7&&(os(e,h,r[w]>>>23&31),h+=Fe[V]);var F=31&r[w];as(e,h,R[F]),h+=L[F],F>3&&(as(e,h,r[w]>>>5&8191),h+=$e[F])}else as(e,h,O[r[w]]),h+=N[r[w]];return as(e,h,O[256]),h+N[256]},fs=new Ve([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gs=new He(0),ms=function(t,e,s,r,i,n){var o=t.length,a=new He(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),l=0;if(!e||o<8)for(var h=0;h<=o;h+=65535){var u=h+65535;u>=o&&(c[l>>3]=n),l=ds(c,l+1,t.subarray(h,u))}else{for(var d=fs[e-1],p=d>>>13,f=8191&d,g=(1<<s)-1,m=new Ue(32768),E=new Ue(g+1),v=Math.ceil(s/3),C=2*v,y=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<C)&g},k=new Ve(25e3),T=new Ue(288),b=new Ue(32),w=0,S=0,_=(h=0,0),A=0,I=0;h<o;++h){var O=y(h),N=32767&h,R=E[O];if(m[N]=R,E[O]=N,A<=h){var L=o-h;if((w>7e3||_>24576)&&L>423){l=ps(t,c,0,k,T,b,S,_,I,h-I,l),_=w=S=0,I=h;for(var P=0;P<286;++P)T[P]=0;for(P=0;P<30;++P)b[P]=0}var D=2,M=0,x=f,B=N-R&32767;if(L>2&&O==y(h-B))for(var H=Math.min(p,L)-1,U=Math.min(32767,h),V=Math.min(258,L);B<=U&&--x&&N!=R;){if(t[h+D]==t[h+D-B]){for(var F=0;F<V&&t[h+F]==t[h+F-B];++F);if(F>D){if(D=F,M=B,F>H)break;var $=Math.min(B,F-2),q=0;for(P=0;P<$;++P){var G=h-B+P+32768&32767,K=G-m[G]+32768&32767;K>q&&(q=K,R=G)}}}B+=(N=R)-(R=m[N])+32768&32767}if(M){k[_++]=268435456|We[D]<<18|Xe[M];var j=31&We[D],W=31&Xe[M];S+=Fe[j]+$e[W],++T[257+j],++b[W],A=h+D,++w}else k[_++]=t[h],++T[t[h]]}}l=ps(t,c,n,k,T,b,S,_,I,h-I,l),!n&&7&l&&(l=ds(c,l+1,gs))}return ns(a,0,r+is(l)+i)},Es=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var s=e,r=9;--r;)s=(1&s&&-306674912)^s>>>1;t[e]=s}return t}(),vs=function(){var t=-1;return{p:function(e){for(var s=t,r=0;r<e.length;++r)s=Es[255&s^e[r]]^s>>>8;t=s},d:function(){return~t}}},Cs=function(t,e,s,r,i){return ms(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,s,r,!i)},ys=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},ks=function(t,e){var s=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:9==e.level?2:0,t[9]=3,0!=e.mtime&&ys(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),s){t[3]=8;for(var r=0;r<=s.length;++r)t[r+10]=s.charCodeAt(r)}},Ts=function(t){return 10+(t.filename&&t.filename.length+1||0)};function bs(t,e){e||(e={});var s=vs(),r=t.length;s.p(t);var i=Cs(t,e,Ts(e),8),n=i.length;return ks(i,e),ys(i,n-8,s.d()),ys(i,n-4,r),i}var ws="undefined"!=typeof TextEncoder&&new TextEncoder,Ss="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ss.decode(gs,{stream:!0}),1}catch(t){}function _s(t,e){if(e){for(var s=new He(t.length),r=0;r<t.length;++r)s[r]=t.charCodeAt(r);return s}if(ws)return ws.encode(t);var i=t.length,n=new He(t.length+(t.length>>1)),o=0,a=function(t){n[o++]=t};for(r=0;r<i;++r){if(o+5>n.length){var c=new He(o+8+(i-r<<1));c.set(n),n=c}var l=t.charCodeAt(r);l<128||e?a(l):l<2048?(a(192|l>>6),a(128|63&l)):l>55295&&l<57344?(a(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++r))>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|63&l)):(a(224|l>>12),a(128|l>>6&63),a(128|63&l))}return ns(n,0,o)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const As=t=>{if("string"==typeof t)return bs(_s(t));if(!ArrayBuffer.isView(t))throw new Error("Data must be UInt* data type or string");return bs(t)},Is={Visit:Ie,SessionMetadata:Te},Os={getBox:f,scroll:a,fingerprint2:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new V(t,e)}}}},function(t){t.O(0,[592],(function(){return e=1839,t(t.s=e);var e}));var e=t.O(),s=CE2="undefined"==typeof CE2?{}:CE2;for(var r in e)s[r]=e[r];e.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})}]);